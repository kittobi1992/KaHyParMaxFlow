% Vorlage für eine Bachelorarbeit - 2012-2013 Timo Bingmann

% Dies ist nur eine Vorlage. Strikte Vorgaben wie die Bachelorarbeit auszusehen
% hat gibt es nicht. Darum können auch alle Teile angepasst werden.

\documentclass[12pt,a4paper,twoside, enabledeprecatedfontcommands]{scrartcl}

% Diese (und weitere) Eingabedateien sind in UTF-8
\usepackage[utf8]{inputenc}

% Verwende gute Type 1 Font: Latin Modern
\usepackage[T1]{fontenc}
\usepackage{lmodern}

% Sprache des Dokuments (für Silbentrennung und mehr)
\usepackage[german,english]{babel}

% Seitengröße - verwende fast die ganze A4 Seite
\usepackage[tmargin=22mm,bmargin=22mm,lmargin=20mm,rmargin=20mm]{geometry}

% Einrückung und Abstand zwischen Paragraphen
\setlength\parskip{\smallskipamount}
\setlength\parindent{0pt}

% Einige Standard-Mathematik Pakete
\usepackage{latexsym,amsmath,amssymb,mathtools,textcomp}
\usepackage{listings}

% Unterstützung für Sätze und Definitionen
\usepackage{amsthm}
\usepackage{booktabs} %for top, middle and bottomline
\usepackage{bigstrut}
    \setlength\bigstrutjot{3pt}

\newtheorem{Satz}{Satz}[section]
\newtheorem{Definition}[Satz]{Definition}
\newtheorem{Lemma}[Satz]{Lemma}

\numberwithin{equation}{section}

% Deutsches Literaturverzeichnis
\usepackage{bibgerm}

% Unterstützung zum Einbinden von Graphiken
\usepackage{graphicx}

% Pakete die tabular und array verbessern
\usepackage{array,multirow}
\newcolumntype{C}[1]{>{\centering}m{#1}}

% Kleiner enumerate und itemize Umgebungen
\usepackage{enumitem}

\setlist[enumerate]{topsep=0pt}
\setlist[itemize]{topsep=0pt}
\setlist[description]{font=\normalfont,topsep=0pt}

\setlist[enumerate,1]{label=(\roman*)}

% TikZ für Graphiken in LaTeX
\usepackage{tikz}
\usetikzlibrary{calc}

\usepackage{pgfplots}
\usepgfplotslibrary{external}
\tikzexternalize[prefix=experiments/]

\usepackage{pifont}
\usepackage{pbox}
\usepackage{longtable}

% Aktuelle Section und Untersection am Seitenkopf
\usepackage{fancyhdr}

\fancypagestyle{plain}{
  \fancyhead{}
  \fancyfoot{}
  \fancyfoot[LE,RO]{\normalsize\thepage}
  \renewcommand{\headrulewidth}{0pt}
  \renewcommand{\footrulewidth}{0pt}
}

\fancypagestyle{normal}{
  \setlength{\headheight}{20pt}
  \setlength\footskip{32pt}
  \fancyhead{}
  \fancyhead[LE]{\normalsize\textsc{\nouppercase{\leftmark}}}
  \fancyhead[RO]{\normalsize\textsc{\nouppercase{\rightmark}}}
  \fancyfoot{}
  \fancyfoot[LE,RO]{\normalsize\thepage}
  \renewcommand{\headrulewidth}{0.4pt}
  \renewcommand{\footrulewidth}{0pt}
}

% Hyperref für Hyperlink und Sprungtexte
\usepackage{xcolor,hyperref}
\usepackage{subcaption}
\usepackage{graphicx}

\hypersetup{
  pdftitle={High Quality Hypergraph Partitioning via Max-Flow-Min-Cut Computations},
  pdfauthor={Tobias Heuer},
  pdfsubject={Stichworte, weiteres Stichwort},
  colorlinks=true,
  pdfborder={0 0 0},
  bookmarksopen=true,
  bookmarksopenlevel=1,
  bookmarksnumbered=true,
  linkcolor=blue!60!black,
  %linkcolor=black,
  citecolor=blue!60!black,
  urlcolor=blue!60!black,
  filecolor=green!60!black,
  pdfpagemode=UseNone,
  unicode=true,
}

% Paket zum Setzen von Algorithmen in Pseudocode mit kleinen Stilanpassungen
\usepackage[ruled,vlined,linesnumbered,norelsize]{algorithm2e}
\DontPrintSemicolon
\def\NlSty#1{\textnormal{\fontsize{8}{10}\selectfont{}#1}}
\SetKwSty{texttt}
\SetCommentSty{emph}
\def\listalgorithmcfname{Algorithmenverzeichnis}
\def\algorithmautorefname{Algorithmus}
\let\chapter=\section % repariert ein Problem mit algorithm2e

\input{../macros}

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagestyle{empty} % keine Seitenzahlen

% Titelblatt der Arbeit
\begin{titlepage}

  \begin{center}\large
 
    \quad\includegraphics[height=17mm]{../img/logo/kit_logo_en.pdf} \hfill
    %\includegraphics[height=20mm]{../img/logo/grouplogo-algo-blue.pdf}\quad\null

    \vfill

    Master-Thesis
    \vspace*{2cm}

    {\textbf{\huge High Quality Hypergraph Partitioning \\ via Max-Flow-Min-Cut Computations} \par}
    % Siehe auch oben die Felder pdftitle={}
    % mit \par am Ende stimmt der Zeilenabstand

    \vfill

    Tobias Heuer

    \vspace*{45mm}

    \begin{tabular}{rl}
      Advisors: & Prof. Dr. Peter Sanders \\
      & M. Sc. Sebastian Schlag\\
    \end{tabular}
    
    \vspace*{10mm}

    %Institut für Theoretische Informatik, Algorithmik \\
    %Fakultät für Informatik \\
    %Karlsruher Institut für Technologie

    % English:
    Institute of Theoretical Informatics, Algorithmics \\
    Department of Informatics \\
    Karlsruhe Institute of Technology

    \vspace*{15mm}

    Date of submission: 22.12.2017

    \vspace*{12mm}
  \end{center}

\end{titlepage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\vspace*{0pt}\vfill

\hrule\medskip

Hiermit versichere ich, dass ich diese Arbeit selbständig verfasst und keine anderen, 
als die angegebenen Quellen und Hilfsmittel benutzt, die wörtlich oder inhaltlich 
übernommenen Stellen als solche kenntlich gemacht und die Satzung des Karlsruher 
Instituts für Technologie zur Sicherung guter wissenschaftlicher Praxis in der jeweils 
gültigen Fassung beachtet habe.

\bigskip

\noindent
Karlsruhe, den 22.12.2017

% Unterschrift (handgeschrieben)

\vspace*{5cm}

\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\selectlanguage{english}
\addto\extrasenglish{\def\figureautorefname{Fig.}}

\begin{abstract}
\centerline{\textbf{Abstract}}

In this thesis, we introduce a framework based on \emph{Max-Flow-Min-Cut}
computations for improving balanced $k$-way partitions of hypergraphs.
Currently, variations of the \emph{FM} heuristic \cite{fiduccia1988linear} are used 
as \emph{local search} algorithms in all state-of-the-art multilevel hypergraph partitioners. 
Such \emph{move}-based heuristics have the disadvantage that they only incorporate \emph{local} 
information about the problem structure and if many \emph{moves} of vertices have an equal 
impact on the solution quality, the outcome mainly depends on random choices made within 
the algorithm \cite{dutt1997vlsi,krishnamurthy1984improved,mann2014formula}.
\emph{Flow}-based approaches are not \emph{move}-based and they are able to find a \emph{global}
minimum cut separating two vertices $s$ and $t$ \cite{ford1956maximal}. \\
Our framework is inspired by the work of Sanders and Schulz \cite{sanders2011engineering} who
successfully integrate a \emph{flow}-based refinement algorithm into a multilevel graph partitioner.
We generalize many ideas such that they are applicable in the multilevel hypergraph 
partitioning context. We develop several techniques to sparsify the hypergraph flow network, 
which reduces the resulting problem size by a factor of $2$ on average compared to
the state-of-the-art representation \cite{lawler1973}. Additionally, we show how to configure
a flow problem on a subhypergraph such that the quality achievable with a \emph{Max-Flow-Min-Cut}
computation is significantly better than with the modeling approach of Sanders and Schulz.
Finally, we integrate our work as refinement strategy into the $n$-level hypergraph 
partitioner \emph{KaHyPar} \cite{heuer2017improving}. \\
We tested our framework on a large benchmark set with $3222$ instances. In comparison to $5$ different systems, 
our new configuration outperforms the tested state-of-the-art hypergraph partitioners on $70\%$ 
of the instances. In comparison to the latest version of \emph{KaHyPar}, our new approach 
improves quality by $2.4\%$ while only incurring a performance slowdown by a factor of $2$. 
However, our algorithm is still as fast as the direct $k$-way version 
of \emph{hMetis} and outperforms it on $82\%$ of the benchmarks.
%All variations
%of the algorithm have in common that they greedily \emph{move} (hyper)nodes between
%blocks of a partition according to an associated \emph{gain}, which value depends on
%the \emph{local} structure around an vertex. The \emph{FM} algorithm is often criticized,
%because it only incorporates \emph{local} informations about the problem structure and
%in case of ties, the quality mainly depends on random choices made within the algorithm
%\cite{dutt1997vlsi,krishnamurthy1984improved,mann2014formula}.
%The framework is inspired by the work of Sanders and Schulz \cite{sanders2011engineering} who
%successfully showed that \emph{flow}-based refinement in combination with the \emph{FM}
%algorithm significantly improves the quality of partitions in a multilevel graph partitioner.
%We generalize many ideas of them such that they are applicable in the multilevel hypergraph 
%partitioning context.
\end{abstract}
\clearpage
\selectlanguage{german}
\begin{abstract}
\centerline{\textbf{Zusammenfassung}}

In dieser Arbeit wird ein Framework basierend auf \emph{Max-Flow-Min-Cut} Berechnungen 
vorgestellt, zur Verbesserung einer balancierten $k$-teilige Aufteilung eines Hypergraphen.
Aktuell werden Varianten des \emph{FM} Algorithmus \cite{fiduccia1988linear} in allen modernen \emph{Multilevel Hypergraph
Partitionierer} als lokaler Suchalgorithmus verwendet. Solche \emph{bewegungsbasierende} Heuristiken
haben den Nachteil, dass sie nur \emph{lokale} Informationen über die Problemstruktur
in die Berechnungen miteinfließen lassen. Außerdem, haben viele Knotenbewegungen den selben
Einfluss auf die Lösungsqualität, dann hängt das Ergebnis oft von
zufälligen Entscheidungen ab, welche der Algorithmus selbst trifft 
\cite{dutt1997vlsi,krishnamurthy1984improved,mann2014formula}. Flussbasierende Ansätze
sind nicht \emph{bewegungbasiert} und finden einen \emph{globalen} minimalen Schnitt, welcher 
zwei Knoten $s$ und $t$ eines Graphen trennt \cite{ford1956maximal}.\\
Unser Framework ist durch die Arbeit von Sanders und Schulz \cite{sanders2011engineering} inspiriert.
Diese integrierten eine \emph{flussbasierende} Heuristik erfolgreich in Ihren \emph{Multilevel Graph 
Partitionierer}. Wir generalisieren viele Ihrer Ideen, sodass sie im \emph{Multilevel Hypergraph
Partitionierung}-Kontext anwendbar sind. Wir entwickeln mehrere Techniken, um das aktuelle 
\emph{Hypergraph Flussnetzwerk} zu verkleinern, welche die resultierende Problemgröße im Vergleich
zu der aktuellen Representation \cite{lawler1973}, um den Faktor $2$ reduziert.
Zusätzlich zeigen wir, wie ein Flussproblem auf einem \emph{Subhypergraphen} konfiguriert
werden kann, sodass das eine \emph{Max-Flow-Min-Cut} Berechnung eine bessere Qualität erzielt, 
als die Modellierung von Sanders und Schulz. Am Ende haben wir unsere Arbeit als 
Verbesserungsstrategie in den $n$-level \emph{Hypergraph Partitionierer KaHyPar} integriert \cite{heuer2017improving}.\\
Wir haben unser Framework auf $3222$ verschiedenen Instanzen getestet. Im Vergleich mit $5$
verschiedenen Systemen erzielt unsere neue Konfiguration, auf $70\%$ der Instanzen,
die besten Ergebnisse. Im Vergleich zu der aktuellen Variante von \emph{KaHyPar} ist die
Qualität der Lösungen um $2.4\%$ gestiegen, während die Laufzeit nur um den Faktor $2$
langsamer ist. Jedoch hat unser Algorithmus eine vergleichbare Laufzeit mit \emph{hMetis}
und erzielt auf $82\%$ der Instanzen bessere Ergebnisse.

\end{abstract}

\vfill

\selectlanguage{english}

\vfill\vfill\vfill
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\vspace*{0pt}\vfill

\section*{Acknowledgements}

A good mentor is important for staying motivated and to have the feeling to work
on something meaningful. Since my bachelor thesis, I work together with Sebastian
Schlag in the research area of \emph{Hypergraph Partitioning}. The decision to further
work on this topic was not only a matter of interest, it was mainly a decision based
on our outstanding interpersonal working relationship. Our intellectual discussions
were characterized by the right balance of fun and the necessary seriousness to work towards
a common goal. I think here is the right place to thank you for the endless time, which I have spent
in your office over the last three years and which have made me a better computer scientist. \\
Further, I would like to thank my girl friend Alessa Dreixler. To be together with a 
computer scientist could be sometimes very complicated and exhausting. Especially,
if anger and frustration dominated my working day. With her understanding and motivation, 
I could continue every morning with the same energy and passion as the day before.


\vfill\vfill\vfill
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagestyle{normal}
% markiere sections im Seitenkopf links und subsections rechts
\renewcommand\sectionmark[1]{\markboth{\thesection\quad\MakeUppercase{#1}}{\thesection\quad\MakeUppercase{#1}}}
\renewcommand\subsectionmark[1]{\markright{\thesubsection\quad\MakeUppercase{#1}}}

% Inhaltsverzeichnis
\setcounter{tocdepth}{2} 
\tableofcontents

\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\listoffigures
%\listoftables
%\listofalgorithms
%
%\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Introduction}

\input{sections/introduction}

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Preliminaries}
\label{sec:preliminaries}

\input{sections/preliminaries}

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Related Work}
\label{sec:related_work}

\input{sections/related_work}

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Hypergraph Flow Networks}
\label{sec:opt_flow_network}
\input{sections/model_flow}

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Max-Flow-Min-Cut Refinement Framework}
\label{sec:flow_refinement}

\input{sections/flow_refinement}

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Experimental Results}
\label{sec:experiments}

\input{sections/experiments}

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Conclusion}
\label{sec:conclusion}

\input{sections/conclusion}

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\bibliographystyle{abbrv}
\bibliography{../literature}

\newpage

\begin{appendix}
\input{sections/appendix}
\end{appendix}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\end{document}
