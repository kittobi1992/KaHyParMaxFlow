\section{Benchmark Instances}
\label{sec:benchmark_instances}

\subsection{Parameter Tunning Benchmark Set}
\label{sec:parameter_tunning_set}

\begin{table}[ht!]
\renewcommand{\arraystretch}{1.15}
\centering
\begin{tabular}{l|cccccc}
\toprule
Type & Num & $\min{|V|}$ & Avg.$|V|$ & $\max{|V|}$ & $\min{|E|}$ & Avg.$|E|$ \\
\midrule%
\csname @@input\endcsname experiments/instances/parameter_tunning_stats1.tex 
\midrule
Type & $\max{|E|}$ & Avg.$|e|$ & Med.$|e|$ & Avg.$d(v)$ & Med.$d(v)$ & Avg.$\frac{|E|}{|V|}$ \\
\midrule%
\csname @@input\endcsname experiments/instances/parameter_tunning_stats2.tex 
\bottomrule
\end{tabular} 
\caption{Summary of the parameter tunning instances.}
\label{tbl:parameter_tunning_set}
\end{table}

\subsection{Benchmark Subset}
\label{sec:benchmark_subset}

\begin{table}[ht!]
\renewcommand{\arraystretch}{1.15}
\centering
\begin{tabular}{l|cccccc}
\toprule
Type & Num & $\min{|V|}$ & Avg.$|V|$ & $\max{|V|}$ & $\min{|E|}$ & Avg.$|E|$ \\
\midrule%
\csname @@input\endcsname experiments/instances/subset_benchmark_stats1.tex 
\midrule
Type & $\max{|E|}$ & Avg.$|e|$ & Med.$|e|$ & Avg.$d(v)$ & Med.$d(v)$ & Avg.$\frac{|E|}{|V|}$ \\
\midrule%
\csname @@input\endcsname experiments/instances/subset_benchmark_stats2.tex 
\bottomrule
\end{tabular} 
\caption{Summary of the benchmark subset instances.}
\label{tbl:benchmark_subset}
\end{table}

\newpage
\subsection{Full Benchmark Set}
\label{sec:full_benchmark_set}

\begin{table}[ht!]
\renewcommand{\arraystretch}{1.15}
\centering
\begin{tabular}{l|cccccc}
\toprule
Type & Num & $\min{|V|}$ & Avg.$|V|$ & $\max{|V|}$ & $\min{|E|}$ & Avg.$|E|$ \\
\midrule%
\csname @@input\endcsname experiments/instances/full_benchmark_stats1.tex 
\midrule
Type & $\max{|E|}$ & Avg.$|e|$ & Med.$|e|$ & Avg.$d(v)$ & Med.$d(v)$ & Avg.$\frac{|E|}{|V|}$ \\
\midrule%
\csname @@input\endcsname experiments/instances/full_benchmark_stats2.tex 
\bottomrule
\end{tabular} 
\caption{Summary of the full benchmark set instances.}
\label{tbl:full_benchmark_set}
\end{table}

\subsection{Excluded Test Instances}
\label{app:excludedinstances}

{\footnotesize  
\begin{longtable}{p{7cm}lllllll}                                                                                                                                                                                                                                                                           
Hypergraph                                                                                                                      & 2           & 4                                         & 8                                         & 16                                        & 32                                        & 64                                                 & 128                                                \\
\hline
  10pipe-q0-k.dual                                                                                                            &             &                                           &                                           & $\triangle$                               & $\triangle$                               & $\triangle$                                        & \ding{109}$\triangle$                              \\
  10pipe-q0-k.primal                                                                                                          & $\square$   & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                          & $\square$                                          \\
  11pipe-k.dual                                                                                                               & $\triangle$ & \ding{109}$\triangle$                     & \ding{109}$\triangle$                     & \ding{109}$\triangle$                     & \ding{109}$\triangle$                     & \ding{109}$\triangle$                              & \ding{109}$\triangle$                              \\
  11pipe-k                                                                                                                    &             &                                           &                                           & \ding{109}                                & \ding{109}                                & \ding{109}                                         & \ding{109}                                         \\
  11pipe-k.primal                                                                                                             & $\square$   & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                          & \ding{109}$\square$                                \\
  11pipe-q0-k.dual                                                                                                            &             &                                           &                                           &                                           & $\triangle$                               & \ding{109}$\triangle$                              & \ding{109}$\triangle$                              \\
  11pipe-q0-k.primal                                                                                                          & $\square$   & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                          & $\square$                                          \\
  9dlx-vliw-at-b-iq3.dual                                                                                                     &             &                                           &                                           &                                           &                                           &                                                    & $\triangle$                                        \\
  9dlx-vliw-at-b-iq3.primal                                                                                                   & $\square$   & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                          & $\square$                                          \\
  9vliw-m-9stages-iq3-C1-bug7.dual                                                                                            & $\triangle$ & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\triangle$          & \ding{108}\ding{109}$\triangle$          \\
  9vliw-m-9stages-iq3-C1-bug7                                                                                                 & $\triangle$ & $\triangle$                               & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\square$$\triangle$ & \ding{108}\ding{109}$\square$$\triangle$ \\
  9vliw-m-9stages-iq3-C1-bug7.primal                                                                                          & $\triangle$ & $\triangle$                               &                                           & $\triangle$                               & \ding{109}$\triangle$                     & \ding{109}$\triangle$                              & \ding{109}$\triangle$                              \\
  9vliw-m-9stages-iq3-C1-bug8.dual                                                                                            & $\triangle$ & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\triangle$          & \ding{108}\ding{109}$\triangle$          \\
  9vliw-m-9stages-iq3-C1-bug8                                                                                                 & $\triangle$ & $\triangle$                               & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\triangle$ & \ding{108}\ding{109}$\square$$\triangle$ & \ding{108}\ding{109}$\square$$\triangle$ \\
  9vliw-m-9stages-iq3-C1-bug8.primal                                                                                          & $\triangle$ & $\triangle$                               &                                           & $\triangle$                               & \ding{109}$\triangle$                     & \ding{109}$\triangle$                              & \ding{109}$\triangle$                              \\
  blocks-blocks-37-1.130-NOTKNOWN.dual                                                                                        &             & \ding{109}                                & \ding{108}\ding{109}            & \ding{108}\ding{109}            & \ding{108}\ding{109}            & \ding{108}\ding{109}                     & \ding{108}\ding{109}$\triangle$          \\
  blocks-blocks-37-1.130-NOTKNOWN                                                                                             &             & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                          & $\square$                                          \\
  blocks-blocks-37-1.130-NOTKNOWN.primal                                                                                      & $\square$   & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                          & $\square$                                          \\
  E02F20.dual                                                                                                                 &             &                                           &                                           &                                           &                                           &                                                    & \ding{109}                                         \\
  E02F22.dual                                                                                                                 &             &                                           &                                           &                                           &                                           & \ding{109}                                         & \ding{109}                                         \\
  openstacks-p30-3.085-SAT.primal                                                                                             & $\square$   & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                          & $\square$                                          \\
  openstacks-sequencedstrips-nonadl-nonnegated-os-sequencedstrips-p30-3.025-NOTKNOWN.primal                                   & $\square$   & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                          & $\square$                                          \\
  openstacks-sequencedstrips-nonadl-nonnegated-os-sequencedstrips-p30-3.085-SAT.primal                                        & $\square$   & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                          & $\square$                                          \\
  q-query-3-L100-coli.sat.dual                                                                                                &             &                                           &                                           &                                           &                                           &                                                    & $\triangle$                                        \\
  q-query-3-L150-coli.sat.dual                                                                                                &             &                                           &                                           &                                           &                                           & $\triangle$                                        & $\triangle$                                        \\
  q-query-3-L200-coli.sat.dual                                                                                                &             &                                           &                                           &                                           & $\triangle$                               & $\triangle$                                        & $\triangle$                                        \\
  q-query-3-L80-coli.sat.dual                                                                                                 &             &                                           &                                           &                                           &                                           &                                                    & $\triangle$                                        \\
  transport-transport-city-sequential-25nodes-1000size-3degree-100mindistance-3trucks-10packages-2008seed.030-NOTKNOWN.dual   &             &                                           &                                           &                                           &                                           &                                                    & $\triangle$                                        \\
  transport-transport-city-sequential-25nodes-1000size-3degree-100mindistance-3trucks-10packages-2008seed.050-NOTKNOWN.primal & $\square$   &                                           &                                           & $\square$                                 &                                           &                                                    & $\square$                                          \\
  velev-vliw-uns-2.0-uq5.dual                                                                                                 &             &                                           & $\triangle$                               & $\triangle$                               & $\triangle$                               & $\triangle$                                        & $\triangle$                                        \\
  velev-vliw-uns-2.0-uq5.primal                                                                                               & $\square$   & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                          & $\square$                                          \\
  velev-vliw-uns-4.0-9.dual                                                                                                   &             &                                           &                                           &                                           & $\triangle$                               & $\triangle$                                        & $\triangle$                                        \\
  velev-vliw-uns-4.0-9.primal                                                                                                 & $\square$   & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                 & $\square$                                          & $\square$                                               \\
\hline
  192bit                                                                                                                      & $\square$   &                                           &                                           & $\square$                                 &                                           &                                                    &                                                    \\
  appu                                                                                                                        &             &                                           &                                           &                                           &                                           & \ding{109}                                         & \ding{109}                                         \\
  ESOC                                                                                                                        & $\square$   & $\square$                                 &                                           &                                           & $\square$                                 & \ding{109}$\square$                                & $\square$                                          \\
  human-gene2                                                                                                                 &             &                                           &                                           &                                           & \ding{109}$\triangle$                     & \ding{109}$\triangle$                              & \ding{109}$\triangle$                              \\
  IMDB                                                                                                                        &             &                                           &                                           & $\triangle$                               & $\triangle$                               & $\triangle$                                        & $\triangle$                                        \\
  kron-g500-logn16                                                                                                            &             & $\triangle$                               & $\triangle$                               & $\triangle$                               & $\triangle$                               & \ding{109}$\triangle$                              & \ding{109}$\triangle$                              \\
  nlpkkt120                                                                                                                   &             & $\triangle$                               & $\triangle$                               & $\triangle$                               & $\triangle$                               & $\triangle$                              & \ding{109}$\triangle$                              \\
  Rucci1                                                                                                                      &             &                                           &                                           &                                           & $\square$                                 &                                                    &                                                    \\
  sls                                                                                                                         & $\square$   & $\square$                                 & $\square$                                 & \ding{109}$\square$                       & \ding{109}$\square$                       & \ding{109}$\square$                                & \ding{109}$\square$                                \\
  Trec14                                                                                                                      &             &                                           &                                           &                                           &                                           &                                                    & \ding{109}                                         
\end{longtable}}
\begin{table}[h!]
\centering
  \caption*{
    \begin{tabular}{|l l|}
      \hline
      $\triangle$~:              & \KaHyPar{CA}/\KaHyPar{MF} exceeded time limit                                                                                                                                                                                                            \\
      \ding{108}~:               & \hMetis{R} exceeded time limit                                                                                                                                                                                                           \\
      \ding{109}~:               & \hMetis{K} exceeded time limit                                                                                                                                                                                                           \\
      $\square$~:                & \PaToH{Q} memory allocation error                                                                                                                                                                                                        \\
      \hline
    \end{tabular}
  }
  \caption{Instances excluded from the full benchmark set evaluation.}~\label{tbl:excluded}  
\end{table}

\newpage
\section{Removing Infinite Weight Nodes of the Vertex Separator Problem}
\label{sec:infinite_weight_vertex_separator}

Finding a minimum-weight $(s,t)$-cutset of a hypergraph can be reduced to the problem 
of finding a minimum-weight $(s,t)$-vertex separator of the bipartite graph representation
of the hypergraph. The weight of the hyperedge nodes is the weight of the corresponding
hyperedge and the weight of all hypernodes is \emph{infinity}. We can calculate
a minimum-weight $(s,t)$-vertex separator with a maximum $(s,t)$-flow calculation 
on the Lawler-Transformation \ShortT{L}. In Section \ref{sec:heuer_network} 
we have shown how to remove a hypernode $v$ from \ShortT{L} by adding a 
biclique between all outgoing hyperedges $\outgoing{e}$ and all
incoming hyperedges $\incoming{e}$ with $e \in I(v)$. The correctness of the transformation
follows with Lemma \ref{lemma:node_removal}. The inserted biclique induce exactly
$d(v)^2$ edges where $d(v)$ is the degree of hypernode $v$. Since the underlying problem
is to find a minimum-weight $(s,t)$-vertex separator, we can prove that $d(v)(d(v)-1)$ edges
are sufficient to model the problem equivalent. The problem is illustrated in \autoref{img:vertex_separator_transformation}.
In the following, we show that we can remove the red edges which are exactly the edges between
two equivalent hyperedge nodes. 

\begin{lemma}
\label{lemma:vertex_separator_lemma}
Let $G = (V,E,c)$ be an undirected graph where a node $v$ exists with $c(v) = \infty$.
We can find a minimum-weight $(s,t)$-vertex separator of $G$ (weight must be smaller than 
$\infty$) with graph $G'$ which is the graph without node $v$ and having a clique 
between all adjacent nodes of $v$.
\end{lemma}

\begin{proof}
We will show that each $(s,t)$-vertex separator of $G$ is also a $(s,t)$-vertex separator
of $G'$ and vice versa. Since, the weight of each node in both network is the same, a minimum-weight
$(s,t)$-vertex separator of $G$ is also a minimum-weight $(s,t)$-vertex separator of $G'$ and vice versa.
We will call an edge of $G'$, which is part of the inserted clique, a \emph{shortcut} edge.\\
Let $V' \subseteq V$ be a $(s,t)$-vertex separator of $G$ with $c(V') < \infty$. Assume after removing
all $u \in V'$ from $G'$ there exists still a path from $s$ to $t$. If the path not contains any
\emph{shortcut} edge, the same path must connect $s$ and $t$ in $G$ because we have removed all $u \in V'$
from $G'$. This is a contradiction that $V'$ is a vertex separator of $G$. Assume the path contains
a \emph{shortcut} edge $(u,w)$ of $G'$.  Because $c(V') < \infty$ and $c(v) = \infty$,
it follows that $v \notin V'$. We can replace $(u,w)$ with two edges $(u,v)$ and $(v,w)$
and obtain a path connecting $s$ and $t$ in $G$. This is also a contradiction that $V'$ is a vertex
separator of $G$.\\
The same argumentation holds, if we want to show that each $(s,t)$-vertex separator of $G'$
is a $(s,t)$-vertex separator of $G$. If the path $P$ connecting $s$ and $t$ in $G$ contains
the removed node $v$ with edges $(u,v) \in P$ and $(v,w) \in P$ we can replace the two edges
with the \emph{shortcut} edge $(u,w)$ of $G'$. The resulting path connects $s$ and $t$ in $G'$.
This is a contradiction that $V'$ is a vertex separator of $G'$.
\end{proof}

Lemma \ref{lemma:vertex_separator_lemma} can be used to remove the \emph{infinity} capacity
edges between the same hyperedge nodes (see red edges in \autoref{img:vertex_separator_transformation}).
Instead of removing a hypernode $v$ of \ShortT{L} with Lemma \ref{lemma:node_removal}, we can apply
Lemma \ref{lemma:vertex_separator_lemma} on a hypernode $v$ of the bipartite graph representation
of the hypergraph. Afterwards, we can use the vertex separator transformation (see Defintion \ref{def:vertex_seperator_transformation})
to obtain a flow network in which the value of a maximum $(s,t)$-flow is equal with the
weight of a minimum-weight $(s,t)$-vertex separator. Both networks on the right side of 
\autoref{img:vertex_separator_transformation} are equivalent, but a removal of a hypernode
now induce $d(v)(d(v) - 1)$ edges instead of $d(v)^2$ edges in the new network.

\begin{figure}
\centering
\includegraphics[width=1.0\textwidth]{../img/network_transformation/vertex_separator_lemma.eps}
\caption{Illustration of the technique to remove a hypernode such that the removal induce 
         $d(v)(d(v) - 1)$ edges instead of $d(v)^2$ edges in the corresponding flow network.
         The edges without an explicit capacity are \emph{infinite} capacity edges.
         The transformation on the top of the figure illustrates the technique presented in
         Section \ref{sec:heuer_network}. Using Lemma \ref{lemma:vertex_separator_lemma} and
         the vertex separator transformation (see Defintion \ref{def:vertex_seperator_transformation})
         results in a equivalent flow network without the red highlighted edges.}
\label{img:vertex_separator_transformation}
\end{figure}

\newpage
\section{Detailed Flow Network and Algorithm Evaluation}

\begin{table}[ht!]
\renewcommand{\arraystretch}{1.15}
\footnotesize
\centering
\begin{tabular}{lr|C{2.5cm}|c|c|c}
\toprule
 \multirow{2}{*}{\rotatebox{90}{\tiny{Instance}}} & \quad\quad & \IBFS & \BoykovKolmogorov & \GoldbergTarjan & \EdmondKarp \\
 & $|V'|$ &  $t[ms]$ & $t[\%]$ & $t[\%]$ & $t[\%]$ 
\\\midrule% 
\csname @@input\endcsname experiments/flow_network/flow_network_max_flow_table.tex 
\bottomrule
\end{tabular}
\caption{Average running times of our maximum flow algorithms on flow network $\ExpHybrid$.
         Note, all values in the table are in percentage relative to the running time
         of the \IBFS~algorithm. In each line the fastest variant is marked bold.}
\label{tbl:flow_algo_network_detail_summary}
\end{table}

\newpage
\section{Effectiveness Tests for Flow Configurations}
\label{appendix:effectiveness_test}

To evaluate the effectiveness of our configurations presented in Section \ref{sec:flow_configuration}
we give each configuration the same amount of time to produce as many as possible partitions of
a hypergraph $H$ for a given $k$. We define
$t_{H,k}$ which is the maximum partition time of a configuration to partition $H$ in $k$
blocks. If we execute a configuration on a hypergraph $H$ for a given $k$ and $\alpha'$ the
time to produce as many as possible partitions is restricted by $3t_{H,k}$. We sum up the partition
times during execution and if that sum plus the current average partition time would exceed $3t_{H,k}$ we perform
the next run with a certain probability such that the expected running time is $3t_{H,k}$.
The effectiveness tests were proposed by Sanders and Schulz \cite{sanders2011engineering}.
The results of the tests mirrors our results of Section \ref{sec:flow_configuration}.


\begin{table}[ht]
\renewcommand{\arraystretch}{1.15}
\centering
\begin{tabular}{|r|c|c|c|}
\toprule
 Config. & \FlowVariant{+}{-}{-} & \FlowVariant{+}{+}{-}  & \FlowVariant{+}{+}{+} \\
\midrule
$\alpha'$ & Avg.$[\%]$ & Avg.$[\%]$ & Avg.$[\%]$ \\
\midrule%
\csname @@input\endcsname experiments/flow_alpha/flow_alpha_effectiveness_table.tex 
\bottomrule
\end{tabular}
\caption{ Table contains results of the effectiveness test 
          for different configurations of our flow-based refinement
          framework for increasing $\alpha'$. The quality in column \emph{Avg.} is relative
          to our baseline configuration \FlowVariant{-}{-}{+}. }
\label{tbl:alpha_effectiveness_exp}
\end{table}

\newpage
\section{Detailed Speed-Up Heuristic Evaluation}
\begin{figure}[h!]
\centering
\input{experiments/speed_up_heuristics/subset.tex} %
\caption{Min-Cut performance plots comparing \KaHyPar{MF} with \KaHyPar{CA}. 
         The plots are explained in Section \ref{sec:methodology}.}
\label{fig:subset_flow}
\end{figure}  

\begin{table}[ht!]
\renewcommand{\arraystretch}{1.15}
\centering
\begin{tabular}{l|ccccccc}
\toprule
\multirow{2}{*}{Partitioner} & \multicolumn{7}{c}{Running Time $t[s]$} \\
\cmidrule{2-8}
 & \ALL & \DAC & \ISPD & \Primal & \Literal & \Dual & \SPM \\
\midrule%
\csname @@input\endcsname experiments/speed_up_heuristics/subset_flow_running_time.tex 
\bottomrule
\end{tabular} 
\caption{Comparing the average running time of \KaHyPar{MF} with \KaHyPar{CA}.}
\label{tbl:running_time} 
\end{table}

\newpage
\section{Detailed Comparison with other Hypergraph Partitioners}

\begin{table}[ht!]
\renewcommand{\arraystretch}{1.15}
\centering
\begin{tabular}{l|rrrrrrr}
\toprule
\multirow{2}{*}{Partitioner} & \multicolumn{7}{c}{Average $\lambda - 1$} \\
\cmidrule{2-8}
 & \ALL & \DAC & \ISPD & \Primal & \Literal & \Dual & \SPM \\
\midrule%
\csname @@input\endcsname experiments/final_flow/final_flow_km1_per_instance.tex 
\bottomrule
\end{tabular} 
\caption{Comparison of average $(\lambda - 1)$ metric of \KaHyPar{MF} with \KaHyPar{CA} and
         other partitioners on different benchmark types. The results are in percentage 
         relative to \KaHyPar{MF}.}
\label{tbl:full_quality} 
\end{table}

\begin{table}[ht!]
\renewcommand{\arraystretch}{1.15}
\centering
\begin{tabular}{l|rrrrrrr}
\toprule
\multirow{2}{*}{Partitioner} & \multicolumn{7}{c}{Average $\lambda - 1$} \\
\cmidrule{2-8}
 & $k = 2$ & $k = 4$ & $k = 8$ & $k = 16$ & $k = 32$ & $k = 64$ & $k = 128$ \\
\midrule%
\csname @@input\endcsname experiments/final_flow/final_flow_km1_per_k.tex 
\bottomrule
\end{tabular} 
\caption{Comparison of average $(\lambda - 1)$ metric of \KaHyPar{MF} with \KaHyPar{CA} and
         other partitioners for different values of $k$. The results are in percentage 
         relative to \KaHyPar{MF}.}
\label{tbl:full_quality_k} 
\end{table}

\begin{table}[ht!]
\renewcommand{\arraystretch}{1.15}
\centering
\begin{tabular}{l|rrrrrrr}
\toprule
\multirow{2}{*}{Partitioner} & \multicolumn{7}{c}{Running Time $t[s]$} \\
\cmidrule{2-8}
 & $k = 2$ & $k = 4$ & $k = 8$ & $k = 16$ & $k = 32$ & $k = 64$ & $k = 128$ \\
\midrule%
\csname @@input\endcsname experiments/final_flow/final_flow_running_time_per_k.tex
\bottomrule
\end{tabular} 
\caption{Comparing the average running time of \KaHyPar{MF} with \KaHyPar{CA} and
         other partitioners for different values of $k$.}
\label{tbl:full_running_time_k} 
\end{table}

\begin{figure}
\centering
\input{experiments/final_flow/fullset-k.tex} %
\caption{Min-Cut performance plots comparing \KaHyPar{MF} with \KaHyPar{CA} and
         other partitioners for different values of $k$.}
\label{fig:final_flow_k}
\end{figure}