
In Section \ref{sec:related_lawler} we have shown how a hypergraph $H$ can be transformed into 
a flow network \ShortT{L} such that every minimum-weight $(S,T)$-cutset in $H$ is a
minimum-capacity $(S,T)$-cutset in \ShortT{L} \cite{lawler1973}. However, the resulting flow
network has significantly more nodes and edges than the original hypergraph. The running time
of a maximum $(S,T)$-flow algorithm depends heavily on the problem size. 
Therefore, different modeling approaches, which reduce the number of nodes and edges,
can have a crucial impact on the running time of the flow algorithm. \\
We will present techniques to sparsify the flow network 
proposed by Lawler. First, we will show how \emph{any subset} $V' \subseteq V$ \emph{of hypernodes} could be removed 
from \ShortT{L} (see Section \ref{sec:heuer_network}). This approach minimizes
the number of nodes, but in some cases, the number of edges can be
significantly higher than in \ShortT{L}. The basic idea of this technique 
can still be applied to remove low degree hypernodes from the Lawler-Network \emph{without} 
increasing the number of edges (see Section \ref{sec:degree_network}). Additionally, we show
how every hyperedge $e$ of size $2$ can be removed by inserting an undirected flow edge between
the corresponding nodes $v_1,v_2 \in e$  (see Section \ref{sec:edge_size_network}). 
Finally, we combine the two suggested approaches into a Hybrid-Network 
(see Section \ref{sec:hybrid_network}).



\subsection{Removing Hypernodes via Clique-Expansion}
\label{sec:heuer_network}

In this Section, we show how all hypernodes of \ShortT{L} can be removed such that a maximum 
$(S,T)$-flow on the new network induce a minimum-weight $(S,T)$-cutset on $H$. If a hypernode $v \in V$
occurs in an augmenting path $P$ the previous node in the path must be a hyperedge, either
$\incoming{e}$ or $\outgoing{e}$. Further, for all $e \in I(v)$ the capacity $\capa_L(v,\incoming{e})$ is $\infty$. Therefore, 
if we push flow over a hypernode $v$, coming from a hyperedge, we can redirect
the flow to any hyperedge node $\incoming{e} \in I(v)$ during the whole maximum flow calculation, because 
$\capa_L(v,\incoming{e}) = \infty$. The following lemma is central to our first sparsifying 
technique and is illusrated in \autoref{img:clique_expansion}. Given a graph $G = (V,E)$ we define the two sets
$in(u) := \{v\ |\ (v,u) \in E\}$ and $out(u) := \{v\ |\ (u,v) \in E\}$ with $u \in V$. 

\begin{lemma}[Shortcut Edges]
\label{lemma:node_removal}
Let $G = (V,E,\capa)$ be a flow network and $u \in V$ a node where
all incoming and outgoing edges have capacity equal to $\infty$.
Further, let $G(u) = (V\setminus\{u\}, E_u, \capa_u)$ be the flow network obtained by removing
$u$ and inserting a shortcut edge between each $v \in in(u)$ and $w \in out(u)$ with $\capa_u(v,w) = \infty$.
If $f$ is a maximum $(S,T)$-flow of G with $|f| < \infty$, then $f$ is equal to a maximum
$(S,T)$-flow $f'$ of $G(u)$ with $u \notin S \cup T$.
\end{lemma}

\begin{proof}
Let $f$ be a maximum $(S,T)$-flow of $G$. We define a maximum $(S,T)$-flow $f'$ 
of $G(u)$ as follows:
\begin{equation}
\label{eq:eq1}
f'(v,w) =  
  \begin{cases}
      \frac{f(v,u)f(u,w)}{\sum_{w \in out(u)} f(u,w)}, & \text{if } v \in in(u), w \in out(u) \\
      f(v,w), & \text{otherwise}
   \end{cases} 
\end{equation}
$f'$ is choosen in such a way that for all $v \in in(u): \sum_{w \in out(u)} f'(v,w) = f(v,u)$
and for all $w \in out(u): \sum_{v \in in(u)} f'(v,w) = f(u,w)$. Therefore, $f'$
satisfies the flow conservation constraint and since all capacities are equal to $\infty$, $f'$
also satisfies the capacity constraint $\Rightarrow$ $f'$ is a valid flow function. Further
$u$ is not contained in $S\cup T$ which implies that $|f| = |f'|$. \\
Let $f'$ be a maximum $(S,T)$-flow of $G(u)$. We define a maximum $(S,T)$-flow $f$
of $G$ as follows:
\begin{align}
\label{eq:eq2}
f(u,w) = \sum_{x \in in(u)} f'(x,w) \nonumber \\
f(v,u) = \sum_{x \in out(u)} f'(v,x) \\
f(x,y) = f'(x,y) \nonumber
\end{align}
The amount of flow from each $v \in in(u)$ to each $w \in out(u)$ of flow function
$f'$ is redirected over $u$ in $f$. Therefore, $f$ is an valid flow function.
Since $u \notin S\cup T$, it follows that $|f| = |f'|$.
\end{proof}

\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{../img/network_transformation/clique_expansion.eps}
\caption{Illustration of Lemma \ref{lemma:node_removal} and Equation \ref{eq:eq1} and \ref{eq:eq2}.}
\label{img:clique_expansion}
\end{figure}

In \ShortT{L} all incoming and outgoing edges of a hypernode $v$ have
capacities equal to $\infty$. For all $e \in I(v)$ there is an edge from $v$
to $\incoming{e}$ and from $\outgoing{e}$ to $v$. Consequently, $in(v) = \bigcup_{e \in I(v)} e''$
and $out(v) = \bigcup_{e \in I(v)} e'$. Therefore, we can construct the
following network with Lemma \ref{lemma:node_removal}:

\begin{definition}
Let $T_H$ be a transformation that converts a hypergraph \HypergraphDef~into 
a flow network \ExtendedT{H}{V'} with $V' \subseteq V$. \ShortExT{H}{V'} is defined as follows:
\begin{enumerate}
\item $V_H = V\setminus V' \bigcup\limits_{e \in E}\ \{\incoming{e}, \outgoing{e}\}$
\item $\forall v \in V'$ and $\forall e_1,e_2 \in I(v)$ with $e_1 \neq e_2$ we add a directed
      edge $(\outgoing{e_1},\incoming{e_2})$ with capacity $\capa_H(\outgoing{e_1},\incoming{e_2}) = \infty$
      (Lemma \ref{lemma:node_removal}).
\item Let $H' = (V\setminus V',E',c,\omega)$ be the hypergraph with 
      $E' = \{e\setminus V' \ |\ e \in E\ \land \ e \setminus V' \neq \emptyset \}$,
      then we add all edges of $T_L(H')$ to $E_H$ with their corresponding capacities.
\end{enumerate} 
\end{definition}

An example of the transformation is shown in \autoref{img:heuer_network}.
We have to proof that a minimum-capacity $(S,T)$-cutset
of \ShortExT{H}{V'} is equal with a minimum-weight $(S,T)$-cutset of $H$. However,
we will use of the following lemma in the correctness proof.

\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{../img/network_transformation/heuer_transformation.eps}
\caption{Transformation of a hypergraph $H$ into an equivalent flow network \ShortExT{H}{V} by removing
         all hypernodes of \ShortT{L}. Note, capacity of the black edges in the flow network is $\infty$.}
\label{img:heuer_network}
\end{figure}

\begin{lemma}[Source/Sink Node Removal]
\label{lemma:source_and_sink_removal}
Let $G = (V,E,\capa)$ be a flow network and $f$ a maximum $(S,T)$-flow of $G$ with $|f| < \infty$.
If $s \in S$ is a source node where all outgoing edges have infinte capacity and
$t \in T$ is a sink node where all incoming edges have infinte capacity, then
$|f|$ is equal with the amount of a maximum $(S',T)$-flow $f_s$ of $G(s)$ and a maximum
$(S,T')$-flow $f_t$ of $G(t)$, where $S' = S\setminus \{s\} \cup out(s)$ 
and $T' = T \setminus \{t\} \cup in(u)$.
\end{lemma}

\begin{proof}
First we note, that the flow over an incoming edge of a source node $s \in S$ is zero.
More formally, $\forall v \in in(s): f(v,s) = 0$. Edmond and Karp \cite{edmonds1972theoretical} 
show that we can find a maximum $(s,t)$-flow if we augment in each step along a shortest path. 
Assume we find an augmenting path $P$ which contains an edge $(v,s)$. We
can obtain a shorter path if we split $P$ after edge $(v,s)$ and use the second part as
augmenting path. Therefore, $f(v,s) = 0$. The same holds for all outgoing edges of a sink
node. Consequently, we can remove all incoming resp. outgoing edges of a source resp. sink node. \\
In Section \ref{sec:applications} we described how to solve a \emph{multi-source 
multi sink} flow problem by adding a super source node $a$ and super sink node $b$ to the network
and connect $a$ with all sources $s' \in S$ and all sinks $t' \in T$ with $b$.
$\forall s' \in S: \capacity{a,s'} = \infty$ and $\forall t' \in T: \capacity{t',b} = \infty$. With Lemma
\ref{lemma:node_removal} follows, that we can remove $s$ from $G$ and insert
a directed edge from $a$ to each $v \in out(s)$ (equal to $G(s)$) and $|f| = |f_s|$. The new flow problem
corresponds to the \emph{multi-source multi-sink} problem with $S'$ and $T$ as source
and sink set. The proof for $G(t)$ is equivalent.
\end{proof}

As a consequence of this lemma, we can remove 
a source hypernode $v \in S$ of \ShortT{L} and instead add all
incoming hyperedge nodes $\incoming{e} \in I(v)$ as sources to the flow 
problem. Because for all incoming resp. outgoing edges of vertices $v$ of 
\ShortT{L} the capacity is $\infty$.

\begin{theorem}
\label{theorem:st_cutset_equal}
A minimum-weight $(S,T)$-cutset of a hypergraph \HypergraphDef~(with $S,T \subseteq V,
S \cap T = \emptyset$) is equivalent with a minimum-capacity $(S',T')$-cutset of the
flow network \ShortExT{H}{V'} ($V' \subseteq V$) with $S' = S \setminus V'\ \cup \bigcup\limits_{e \in N(V' \cap S)} \{\incoming{e}\}$ and 
$T' = T \setminus V'\ \cup \bigcup\limits_{e \in N(V'\cap T)} \{\outgoing{e}\}$.
\label{theorem:heuer_network}
\end{theorem}

\begin{proof}

Applying Lemma \ref{lemma:node_removal} and \ref{lemma:source_and_sink_removal}
on all nodes $v \in V'$ of flow network \ShortT{L} yields network
\ShortExT{H}{V'} with $S'$ and $T'$ as source and sink sets. A maximum
$(S,T)$-flow $f_L$ of \ShortT{L} is then equal with a maximum $(S',T')$-flow $f_H$
of \ShortExT{H}{V'}. Since $|f_L| < \infty$, only edges between hyperedge 
nodes are contained in a minimum-capacity $(S,T)$-cutset of \ShortT{L}. Since $|f_L| = |f_H|$, the same
holds for a minimum-capacity $(S',T')$-cutset of \ShortExT{H}{V'}, which is
equal with a minimum-weight $(S,T)$-cutset of $H$.

%Consider the bipartite graph representation $G_* = (V_*,E_*,c_*)$ 
%of a hypergraph $H = (V,E,c,\omega)$ presented in Section \ref{sec:hypergraph} and \ref{sec:related_lawler}, 
%where for all $v \in V: c_*(v) = \infty$ and for all $e \in E: c_*(e) = 
%\omega(e)$. A minimum-weight $(S,T)$-vertex separator in $G_*$ is equal
%with a minimum-weight $(S,T)$-cutset in $H$. A minimum-weight $(S,T)$-vertex separator can be calculated
%by finding a minimum-capacity $(S,T)$-cutset in \ShortT{L}. Let $G_H$ be the graph obtained by removing
%all $v \in V'\setminus (S \cup T)$ of $G_*$ and adding a clique between all $e \in I(v)$. 
%A minimum-weight $(S,T)$-vertex separator in $G_H$ can be calculated by finding a 
%minimum-capacity $(S,T)$-cutset in our new network \ShortExT{H}{V'\setminus (S \cup T)}.
%We will show that each vertex separator in $G_*$ is also a vertex separator in $G_H$ and
%vice versa. With Lemma \ref{lemma:lemma1} we can show that each minimum $(S,T)$-cutset
%of \ShortExT{H}{V'\setminus (S \cup T)} is equal with a minimum $(S',T')$-cutset of
%\ShortExT{H}{V'} and conclude the proof. We will denote a vertex separator of a graph $G$ with 
%$\V{G}$ and define $V'' := V' \setminus (S \cup T)$. 
%We will show, that $\V{G_*} = \V{G_H}$ with the restriction $\V{G_*} \subseteq E$ and
%$\V{G_H} \subseteq E$.
%
%Assume that $\V{G_*} \subseteq E$ is not a vertex separator in $G_H$. After removing all $e \in \V{G_*}$ of
%$G_H$, there exists still a path $P_H = \{v_1, \ldots, v_k\}$ with $v_1 \in S$ and
%$v_k \in T$ of $G_H$. We can extend $P_H$ to a path $P_*$ in $G_*$.
%We define $P_* := P_H$ and replaces every occurence of a sequence $v_i = e_1 \in E$ and
%$v_{i+1} = e_2 \in E$ with a triple $(e_1,v,e_2)$ in $P_*$, where $v \in e_1 \cap e_2 \cap V''$
%(not empty per construction). $P_*$ does not contain a vertex of $\V{G_*}$, because
%we removed all hyperedge nodes $e \in \V{G_*}$ from $G_H$ before construction of $P_*$ 
%and a hypernode is not part of  the vertex separator $\V{G_*} \subseteq E$ per defintion. 
%$P_*$ connects $S$ and $T$ in $G_*$, which is a contradiction that $\V{G_*}$ 
%is a vertex separator in $G_*$.
%
%Assume that $\V{G_H} \subseteq E$ is not a vertex separator in $G_*$. After removing all $e \in \V{G_H}$ of
%$G_*$, there exists still a path $P_* = \{v_1, \ldots, v_k\}$ with $v_1 \in S$ and
%$v_k \in T$ of $G_*$. We can extend $P_*$ to a path $P_H$ in $G_H$.
%We define $P_H := P_*$ and remove all $v \in P_* \cap V''$ from $P_H$. $G_*$ is a bipartite
%graph per definition. Therefore, each path $P_*$ in $G_*$ is an alternating path of hypernodes and
%hyperedges. The predecessor and successor of a hypernode $v \in P_* \cap V''$ must be hyperedges
%$e_1$ and $e_2$. If $v \in V''$, then $v$ is not contained $G_H$. Instead, there is
%a clique between all $e \in I(v) \Rightarrow$ $(e_1,e_2)$ is contained in $G_H$.
%$P_H$ not contain any vertex of $\V{G_H}$, because we removed all hyperedge nodes $e \in \V{G_H}$ 
%from $G_*$. $P_H$ connects $S$ and $T$ in $G_H$, which is a contradiction that 
%$\V{G_H}$ is a vertex separator in $G_H$.
%
%A minimum-weight $(S,T)$-vertex separator in $G_*$ and $G_H$ contains only hyperedges, because
%the weight of all hypernodes in $G_*$ and $G_H$ is $\infty$. Therefore, each minimum-weight
%$(S,T)$-vertex separator in $G_*$ is also a minimum-weight $(S,T)$-vertex separator in $G_H$,
%because $c(\V{G_*}) = c(\V{G_H})$. With Lemma \ref{lemma:lemma1} follows that
%a minimum-weight $(S,T)$-vertex separator in $G_*$ resp. $G_H$  can also be 
%calculated by finding a minimum-capacity $(S',T')$-cutset in \ShortT{L} resp. \ShortExT{H}{V'}. 
%Therefore, there exists a equivalence between a minimum-weight $(S,T)$-cutset 
%$E_{min}$ of $H$ and the following statements: 
%
%$E_{min}$ is a minimum$\ldots$
%\begin{enumerate}
%\item $\ldots$-weight $(S,T)$-cutset in $H$
%\item $\ldots$-weight $(S,T)$-vertex separator in $G_*$
%\item $\ldots$-capacity $(S,T)$-cutset in \ShortT{L}
%\item $\ldots$-capacity $(S',T')$-cutset in \ShortT{L} (follows from (iii) with Lemma \ref{lemma:lemma1})
%\item $\ldots$-weight $(S,T)$-vertex separator in $G_H$
%\item $\ldots$-capacity $(S,T)$-cutset in \ShortExT{H}{V''}
%\item $\ldots$-capacity $(S',T')$-cutset in \ShortExT{H}{V'} (follows from (vi) with Lemma \ref{lemma:lemma1})
%\end{enumerate}

\end{proof}

Consequently, we can find a minimum-weight $(S,T)$-cutset of $H$ by calculating
a minimum-capacity $(S',T')$-cutset of \ShortExT{H}{V'}. Finally, we have to find the 
corresponding minimum-weight $(S,T)$-bipartition. In \ShortT{L} all hypernodes
reachable from source nodes in the residual graph are part of the first and 
all not reachable are part of the second block of the bipartition. Since we removed 
all hypernodes $v \in V'$ in our new network, we have to reconstruct the bipartition
using the following lemma.

\begin{lemma}[Bipartition Reconstruction]
\label{lemma:bipartition_construction}
Let $f$ be a maximum $(S,T)$-flow of \ShortT{L}. If a hypernode $v \notin S$ is reachable
from a node $s \in S$ in the residual graph of \ShortT{L}, then there must exist at least one
$e \in I(v)$ where $\outgoing{e}$ is reachable from $s$.
\end{lemma}

\begin{proof}
Let $A$ be the set of all reacheable nodes from all source nodes in the residual graph of \ShortT{L}.
%If $\outgoing{e} \in A$, then $v \in A$, because $\capa_L(\outgoing{e},v) = \infty = r_f(\outgoing{e},v)$.\\
Assume, if $v \in A$, then $\forall e \in I(v): \outgoing{e} \notin A$. This implies that the
edge $(v,\outgoing{e})$ is not contained in the residual graph of \ShortT{L}. More formally, 
$r_f(v,\outgoing{e}) = 0$. Otherwise, $\outgoing{e}$ would be in $A$ because $v \in A$. 
Since $r_f(v,\outgoing{e}) = f(\outgoing{e},v) = 0$, there is no flow entering node 
$v$ and due to the conservation of flow constraint there cannot be any 
flow leaving node $v$. Therefore, there is no path
from any $s \in S$ to $v$ over a node $\incoming{e}$ because $\forall e \in I(v): r_f(\incoming{e},v) = f(v,\incoming{e}) = 0$ and no path over $\outgoing{e}$ because $\forall e \in I(v): \outgoing{e} \notin A$
$\Rightarrow$ $v$ is not reachable from any $s \in S$ $\Rightarrow v \notin A$ which is a contradiction
to the assumption that $v \in A$.
\end{proof}

Lemma \ref{lemma:bipartition_construction} gives us an alternative construction for the minimum-weight $(S,T)$-bipartition
of $H$ for both networks \ShortT{L} and \ShortExT{H}{V'}. Regardless of the flow network, we can 
calculate a maximum flow on it and define the set $E''$, which contains all \emph{outgoing hyperedge
nodes} $\outgoing{e}$ \emph{reachable} from a source node $s \in S$ in the \emph{residual graph} of the flow network. 
Further, $(A := \bigcup_{e \in E''} e,\ V\setminus A)$ is a 
minimum-weight $(S,T)$-bipartition of $H$.


\subsection{Low-Degree Hypernodes}
\label{sec:degree_network}

The resulting flow network \ShortExT{H}{V} proposed in Section \ref{sec:heuer_network} has significantly
fewer nodes than the network \ShortT{L} suggested by Lawler. On the other hand, the number of
edges could be much larger. \\
Let's consider a hypernode $v \in V$. We replace $v$ in \ShortT{L} with a clique between all
hyperedges of $I(v)$. The number of edges added to \ShortExT{H}{V} depends on the degree of
$v$. Every hypernode $v \in V$ induce $d(v)(d(v) - 1)$ edges in \ShortExT{H}{V}. In \ShortT{L} a hypernode adds $2d(v)$ edges to the network with the drawback
of an additional node. A simple observation is that for all hypernodes with $d(v) \le 3$ the inequality
$d(v)(d(v) - 1) \le 2d(v)$ holds. Removing such low degree hypernodes not only reduce
the number of nodes, but also the number of edges. \\
Let $V_{d}(n) = \{v \in V\ |\ d(v) \le n\}$ be the set of all hypernodes
with degree smaller or equal $n$. Then our suggested flow network is \ShortExT{H}{V_d(3)}.

\subsection{Removing Graph Hyperedges}
\label{sec:edge_size_network}

If we want to find a minimum-weight $(S,T)$-cutset in a graph $G = (V,E,\omega)$, we do not have to transform
$G$ into an equivalent flow network. We can directly operate on the graph with capacities
$\capacity{e} = \omega(e)$ for all $e \in E$ \cite{ford1956maximal}. Hypergraphs are generalizations of a graph, where
an edge can consist of more than two nodes. However, a hyperedge $e$ of size $2$ can still be 
interpreted as a graph edge. Instead of modeling those edges as described by Lawler \cite{lawler1973}
(see hyperedge $e_2$ in \autoref{img:lawler_transformation}), we can remove all $\incoming{e},\outgoing{e}$ for all $e \in E$
with $|e| = 2$ and add an undirected flow edge between $v_1,v_2 \in e$ (with $v_1 \neq v_2$) with
capacity $\capacity{\{v_1,v_2\}} = \omega(e)$.

\begin{lemma}[Transformation of Undirected to Directed Networks]
\label{lemma:undirected_transformation}
Let $G = (V,E,\capa)$ be an undirected flow network with capacity function $\capa: E \rightarrow \mathbb{N}_+$.
$G$ can be transformed into a directed graph $G'$ such that the amount of a maximum $(s,t)$-flow $f$ of $G$
is equal with the amount of a maximum $(s,t)$-flow $f'$ of $G'$. More formally, $|f| = |f'|$.
\end{lemma}

\begin{proof}
Assume $\forall e \in E: \capacity{e} = 1$. A maximum $(s,t)$-flow is then equal with the maximum
number of edge-disjoint paths between $s$ and $t$ in a directed graph (Menger's Theorem \cite{menger1927allgemeinen}).
This theorem can also be prooven for undirected graphs if we replace each undirected edge
$e = \{u,v\}$ by five directed edges $(v,\incoming{x}),(w,\incoming{x}),(\incoming{x},\outgoing{x}),(\outgoing{x},v),(\outgoing{x},w)$ (see \autoref{img:menger_transformation})
\cite{menger1927allgemeinen}. Obviously, we can map each set of edge-disjoint paths from $s$ to $t$ from $G'$ to $G$
and vice versa. Therefore, the maximum number of edge-disjoint paths from $s$ to $t$ in
$G'$ is then equal to $G$ and therefore, $|f| = |f'|$. \\
Consider the general case where $\forall e \in E: \capacity{e} \in \mathbb{N}_+$. We can transform the
weighted undirected graph $G$ into an unweighted directed multigraph by replacing each undirected
edge $e = \{u,v\}$ with $\capacity{e}$ undirected edges of weight $1$ (see \autoref{img:menger_transformation}).
Afterwards, we can use the transformation to a unweighted directed multigraph the same way as before.
Again, we can apply Menger's Theorem to show that $|f| = |f'|$. Newman \cite{newman2004analysis}
showed that there is an one-to-one correspondence between a maximum $(s,t)$-flow of an unweighted multigraph
and its corresponding weighted graph where the weight of each edge $(u,v)$ is the number of parallel
edges between $u$ and $v$ of the multigraph.
\end{proof}

\begin{figure}[h]
\centering
\includegraphics[width=0.8\textwidth]{../img/network_transformation/menger_transformation.eps}
\caption{Illustration of the transformation of an unweighted or weighted undirected graph into
         an unweighted or weighted directed graph. The equivalence of a maximum $(s,t)$-flow
         of a unweighted multigraph and their correspondnig weighted graph is a result of 
         a work by Newman \cite{newman2004analysis}.}
\label{img:menger_transformation}
\end{figure}

As a consequence of the construction of the proof of Lemma \ref{lemma:undirected_transformation}
each structure of a weighted directed graph illustrated on the right side of
\autoref{img:menger_transformation}~could be transformed into an undirected edge with weight
$\capacity{\{u,v\}} = \capacity{x',x''}$.
Each hyperedge $e$ with $|e| = 2$ has exactly this structure in \ShortT{L}. Therefore, we can 
construct the following network:

\begin{definition}
Let $T_G$ be a transformation that converts a hypergraph \HypergraphDef~into 
a flow network \T{G}. \ShortT{G} is defined as follows:
\begin{enumerate}
\item $V_G = V \cup \bigcup\limits_{\substack{e \in E \\ |e| \neq 2}}\ \{\incoming{e}, \outgoing{e}\}$
\item $\forall e \in E$ with $|e| = 2$ and $v_1,v_2 \in e$ ($v_1 \neq v_2$) we add 
      two directed edges $(v_1,v_2)$ and $(v_2,v_1)$ to $E_G$ with capacity $\capa_G(v_1,v_2) = \omega(e)$
      and $\capa_G(v_2,v_1) = \omega(e)$
\item Let $H' = (V,E',c,\omega)$ be the hypergraph with $E' = \{e\ |\ e \in E \land |e| \neq 2\}$,
      then we add all edges of $T_L(H')$ to $E_G$ with their corresponding capacities.
\end{enumerate} 
\end{definition}

An example of transformation \ShortT{G} is shown in \autoref{img:graph_transformation}. A hyperedge
$e$ of size $2$ consists exactly of $4$ nodes and $5$ edges in \ShortT{L} (see \autoref{img:lawler_transformation}).
The same hyperedge induces $2$ nodes and $2$ edges in \ShortT{G}. 
 
\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{../img/network_transformation/graph_transformation.eps}
\caption{Transformation of a hypergraph into an equivalent flow network by inserting 
         an undirected edge with capacity $\omega(e)$ for each hyperedge of size $2$. 
         Note, capacity of the black edges in the flow network is $\infty$.}
\label{img:graph_transformation}
\end{figure}

\begin{theorem}
A minimum-weight $(S,T)$-cutset of a hypergraph \HypergraphDef~(with $S,T \subseteq V,
S \cap T = \emptyset$) is equal with a minimum-capacity $(S,T)$-cutset of the
flow network \T{G}.
\label{theorem:graph_transformation}
\end{theorem}

\begin{proof}

Before we can apply Lemma \ref{lemma:undirected_transformation} on all hyperedges $e$
with $|e| = 2$, we have to show how to handle the infinite capacity edges of \ShortT{L}.
The flow leaving $\incoming{e}$ is restricted by $\capacity{\incoming{e},\outgoing{e}} = \omega(e)$. Therefore, the flow entering
$\incoming{e}$ is restricted by $f(u,\incoming{e}) + f(v,\incoming{e}) \le \capacity{\incoming{e},\outgoing{e}} = \omega(e)$ with $u \in e$ and
$v \in e$ and $u \neq v \Rightarrow$ $f(u,\incoming{e}) \le \omega(e)$ and $f(v,\incoming{e}) \le \omega(e)$.
The same holds for $f(\outgoing{e},u)$ and $f(\outgoing{e},v)$. Therefore, we can replace each infinite 
capacity of an edge entering $\incoming{e}$ or leaving $\outgoing{e}$ with $\omega(e)$ without changing the amount
of a maximum $(S,T)$-flow. We call the capacity adapted network \ShortT{L'}.\\
Applying the transformation of Lemma \ref{lemma:undirected_transformation} on each undirected
edge of \ShortT{G} results in flow network \ShortT{L'}. It follows, that a maximum $(S,T)$-flow of \ShortT{G} is equal
with a maximum $(S,T)$-flow of \ShortT{L'} and \ShortT{L}. Consequently, a minimum-capacity
$(S,T)$-cutset of \ShortT{G} is equal with a minimum-weight $(S,T)$-cutset of $H$.

%We define the bijective function $\Phi: E_L \rightarrow E_G$ as follows
%\[ \Phi(\incoming{e},\outgoing{e}) = 
%   \begin{cases}
%      (\incoming{e},\outgoing{e}), \text{if } |e| \neq 2, \\
%      \{v_1,v_2\}, \text{otherwise (with $v_1,v_2 \in e$ and $v_1 \neq v_2$)}
%   \end{cases} \]
%
%We will show that each $(S,T)$-cutset $A_L$ of \ShortT{L} is a $(S,T)$-cutset $\Phi(A_L)$ of
%\ShortT{G} and vice versa. Per defintion $\capa_L(A_L) = \capa_G(\Phi(A_L))$ and for each $(S,T)$-cutset
%$A_G$ of \ShortT{G} $\capa_G(A_G) = c_L(\Phi^{-1}(A_G))$. Therefore, each minimum-capacity $(S,T)$-cutset
%of \ShortT{L} must be a minimum-capacity $(S,T)$-cutset of \ShortT{G} and vice versa. In the following 
%let $E^* = \bigcup_{e \in E} \{(\incoming{e},\outgoing{e})\}$. \\
%Let $A_L \subseteq E^*$ be a $(S,T)$-cutset of \ShortT{L}. Assume $\Phi(A_L)$ is not a $(S,T)$-cutset
%of \ShortT{G}. Then there exists a path
%$P_G = \{v_1,\ldots,v_k\}$ connecting $S$ and $T$ in \ShortT{G} not containing any edge $e \in \Phi(A_L)$.
%Let $P_L$ be the path in \ShortT{L} obtained by adding edge $\Phi^{-1}(v_i,v_{i+1}) = (\incoming{e},\outgoing{e})$ between all
%$v_i \in V$ and $v_{i+1} \in V$ in $P_G$. $\Phi^{-1}(v_i,v_{i+1}) \notin A_L$, because
%$P_G$ does not contain any edge of $\Phi(A_L)$. $P_L$ connects $S$ and
%$T$ in \ShortT{L}, which is a contradiction to the assumption that $A_L$ is a $(S,T)$-cutset. \\
%Let $A_G \subseteq \Phi(E^*)$ be a $(S,T)$-cutset in \ShortT{G}. Let's assume $\Phi^{-1}(A_G)$ is not
%a $(S,T)$-cutset of \ShortT{L}. Then there exists a path $P_L = \{v_1,\ldots,v_k\}$ 
%connecting $S$ and $T$ in \ShortT{L} not containing any
%edge $e \in \Phi^{-1}(A_G)$. Let $P_G$ be the path in \ShortT{G} obtained by removing each edge
%$(v_i,v_{i+1})$ with $v_i = \incoming{e}$ and $v_{i+1} = \outgoing{e}$ and $|e| = 2$ from $P_L$. Based on the construction
%of \ShortT{L} the predecessor of $v_i$ and successor of $v_{i+1}$ must be hypernodes $v_1,v_2 \in e$.
%Therefore, $P_G$ is a valid path in \ShortT{G} connecting $S$ and $T$ and not contain any edge of 
%$A_G$. This is a contradiction to the assumption that $A_G$ is a $(S,T)$-cutset.
\end{proof} 

A minimum-weight $(S,T)$-cutset of $H$ could also be calculated with \ShortT{G}. 
Each edge $(v_1,v_2)$ with $v_1,v_2 \in V$ of the minimum-capacity
$(S,T)$-cutset of \ShortT{G} can be mapped to their corresponding hyperedge. 
Since there exists a one-one correspondence between the hypernodes
of \ShortT{L} and \ShortT{G} the corresponding bipartition are all hypernodes \emph{reachable}
from all nodes in $S$ and all not \emph{reachable} from $S$ in the \emph{residual graph}
of \ShortT{G}. 

\subsection{Combining Techniques}
\label{sec:hybrid_network}

In many real-world instances, the average hyperedge size and hypernode degree are inversely
proportional to each other. E.g., if the number of hyperedges is significantly larger than the
number of hypernodes the average hypernode degree is usually much larger than $3$. Whereas
the average hyperedge size is often equal to $2$. If the number of hyperedges is nearly equal
to the number of hypernodes, the average hypernode degree is usually smaller or equal than $3$. Whereas
the average hyperedge size is often much larger than $2$. Of course, we can construct instances
where this inversely proportional relationship cannot be observed, but in many real-world instances,
we often find the described behavior. \\
Currently, we have two different modeling approaches which either perform better on low degree
hypernode instances or small hyperedge size instances. Taking our observation from real-world instances 
into account means that either \ShortT{G} or \ShortExT{H}{V_d(3)} performs significantly better on
a specific instance. It would be preferable to combine the two approaches into one network 
which performs on most instances best. \\

\begin{definition}
Let $T_{\text{Hybrid}}$ be a transformation that converts a hypergraph \HypergraphDef~into 
a flow network \Hybrid, where $V' = \{v \in V_d(3)\ |\ \forall e \in I(v): |e| \neq 2\}$. 
\ShortHybrid~is defined as follows:
\begin{enumerate}
\item $V_{\text{Hybrid}} = V\setminus V' \bigcup\limits_{\substack{e \in E \\ |e| \neq 2}}\ \{\incoming{e}, \outgoing{e}\}$
\item $\forall v \in V'$ we add a directed edge $(\outgoing{e_1}, \incoming{e_2}),\ \forall e_1, e_2 \in I(v)$ 
      ($e_1 \neq e_2$) with capacity $\capa_{\text{Hybrid}}(\outgoing{e_1}, \incoming{e_2}) = \infty$ (Lemma \ref{lemma:node_removal}).
\item $\forall e \in E$ with $|e| = 2$ and $v_1,v_2 \in e$ ($v_1 \neq v_2$) we add 
      two directed edges $(v_1,v_2)$ and $(v_2,v_1)$ with capacity $\capa_{\text{Hybrid}}(v_1,v_2) = \omega(e)$
      and $\capa_{\text{Hybrid}}(v_2,v_1) = \omega(e)$ (Lemma \ref{lemma:undirected_transformation})
\item $\forall e \in E$ with $|e| \neq 2$ we add a directed edge $(\incoming{e},\outgoing{e})$
      with capacity $\capa_{\text{Hybrid}}(\incoming{e},\outgoing{e}) = \omega(e)$ (same as in \ShortT{L}).
\item $\forall v \in V\setminus V'$ we add for each incident hyperedge $e \in I(v)$ with $|e| \neq 2$ 
      two directed edges $(v,\incoming{e})$ and $(\outgoing{e},v)$ with capacity 
      $\capa_{\text{Hybrid}}(v,\incoming{e}) = \capa_{\text{Hybrid}}(\outgoing{e},v) := \infty$ (same as in \ShortT{L}).
\end{enumerate} 
\end{definition}

\autoref{img:transformation_chain} summarizes all explained transformations of this section.
We can prove the correctness of \ShortHybrid~with Lemma \ref{lemma:node_removal}, \ref{lemma:source_and_sink_removal}
and \ref{lemma:undirected_transformation} as used in the proof of Theorem \ref{theorem:heuer_network}
and \ref{theorem:graph_transformation}. A minimum-weight $(S,T)$-cutset of $H$ is equal with a
minimum-capacity $(S',T')$-cutset of \ShortHybrid. \\
Per definition of \ShortHybrid~we prefer a hyperedge removal over a hypernode removal. E.g., if
a hypernode has a degree smaller or equal than $3$, we only remove it, if there is no hyperedge
$e \in I(v)$ with $|e| = 2$. The reason is that a hyperedge removal always decreases the number of nodes
and edges more than a hypernode removal. \\
The minimum-weight $(S,T)$-cutset of $H$ can be calculated with the same technique described in Section
\ref{sec:edge_size_network}. Let $(A,V\setminus A)$ be the corresponding bipartition.
$A$ is the union of all reachable hypernodes from $S'$ and the union of
all reachable \emph{outgoing hyperedge nodes} $\outgoing{e}$ from $S'$ (see Section \ref{sec:heuer_network} 
and Lemma \ref{lemma:bipartition_construction}). 
\begin{figure}[ht!]
\centering
\includegraphics[width=0.95\textwidth]{../img/network_transformation/hybrid_transformation.eps}
\caption{Illustration of all presented sparsifying techniques of the flow network of a hypergraph.}
\label{img:transformation_chain}
\end{figure}
