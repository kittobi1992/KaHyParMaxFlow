
In Section \ref{sec:related_lawler} we have shown how a hypergraph $H$ could be transformed into 
a flow network \ShortT{L} such that every minimum-weight $(S,T)$-cutset in $H$ is a
minimum-capacity $(S,T)$-cutset in \ShortT{L} \cite{lawler1973}. However, the resulting flow
network has significantly more nodes and edges than the original hypergraph. Finding a
maximum $(S,T)$-flow is usually a very computation intensive task. 
Therefore, different modeling approaches, which reduce the number of nodes and edges,
can have a crucial impact on the running time of the flow algorithm. \\
We will present techniques to sparsify the flow network 
proposed by Lawler. First, we will show how any subset $V' \subseteq V$ of hypernodes could be removed 
from \ShortT{L} (see Section \ref{sec:heuer_network}). This approach minimizes
the number of nodes, but in some cases, the number of edges can be
significantly higher than in \ShortT{L}. But the basic idea of this technique 
can still be applied to remove low degree hypernodes from the \emph{Lawler}-Network without 
increasing the number of edges (see Section \ref{sec:degree_network}). Additionally, we show
how every hyperedge $e$ of size $2$ could be removed by inserting an undirected flow edge between
the corresponding nodes $v_1,v_2 \in e$  (see Section \ref{sec:edge_size_network}). 
Finally, we combine the two suggested approaches in a \emph{Hybrid}-Network 
(see Section \ref{sec:hybrid_network}).



\subsection{Removing Hypernodes via Clique-Expansion}
\label{sec:heuer_network}

In this Section, we show how all hypernodes of \ShortT{L} could be removed. If a hypernode $v \in V$
occurs in an augmenting path $P$ the previous node in the path must be a hyperedge node either
$e'$ or $e''$. Further, for all $e \in I(v)$ the capacity $c_L(v,e')$ is $\infty$. Therefore, 
if we push flow over a hypernode $v$, coming from a hyperedge node, we can redirect
the flow to any hyperedge node $e' \in I(v)$ during the whole maximum flow calculation, because 
$c_L(v,e') = \infty$. The following lemma is central to our first sparsifying 
technique. We will denote all incoming edges of a node $u$ with
$in(u) := \{v\ |\ (v,u) \in E\}$ and all outgoing edges with 
$out(u) := \{v\ |\ (u,v) \in E\}$. 

\begin{lemma}
\label{lemma:node_removal}
Let $G = (V,E,c)$ be a flow network and $u \in V$ a node where
$\forall v \in in(u): c(v,u) = \infty$ and $\forall w \in out(u): c(u,w) = \infty$.
Further, let $G(u) = (V\setminus\{u\}, E_u, c_u)$ be the flow network obtained by removing
$u$ and insert a directed edge between each $v \in in(u)$ and $w \in out(u)$ with $c_u(v,w) = \infty$.
Let $f$ be a maximum $(S,T)$-flow of G and $f'$ a maximum $(S,T)$-flow of
$G(u)$.
\[|f| < \infty \text{ and } u \notin S\cup T \Rightarrow |f| = |f'|\]
\end{lemma}

\begin{proof}
Let $f$ be a maximum $(S,T)$-flow of $G$. We define a maximum $(S,T)$-flow $f'$ 
of $G(u)$ as follows:
\[ 
f'(v,w) =  
  \begin{cases}
      \frac{f(v,u)f(u,w)}{\sum_{w \in out(u)} f(u,w)}, & \text{if } v \in in(u), w \in out(u) \\
      f(v,w), & \text{otherwise}
   \end{cases} 
\]
$f'$ is choosen in such a way that for all $v \in in(u): \sum_{w \in out(u)} f'(v,w) = f(v,u)$
and for all $w \in out(u): \sum_{v \in in(u)} f'(v,w) = f(u,w)$. Therefore, $f'$
satisfies the flow conservation constraint and is an valid flow function. Since
$u \notin S\cup T$, it follows that $|f| = |f'|$. \\
Let $f'$ be a maximum $(S,T)$-flow of $G(u)$. We define a maximum $(S,T)$-flow $f$
of $G$ as follows:
\[
f(v,w) =  
  \begin{cases}
      \sum_{x \in in(u)} f'(x,w), & \text{if } v = u \\
      \sum_{x \in out(u)} f'(v,x), & \text{if } w = u \\
      f'(v,w), & \text{otherwise}
   \end{cases} 
\]
The amount of flow from each $v \in in(u)$ to each $w \in out(u)$ of flow function
$f'$ is redirected over $u$ in $f$. Therefore, $f$ is an valid flow function.
Since $v \notin S\cup T$, it follows that $|f| = |f'|$.
\end{proof}

In \ShortT{L} all incoming and outgoing edges of a hypernode $v$ have a
capacity equal to $\infty$. The incoming edges are all $e'' \in I(v)$ and
the outgoing edges are all $e' \in I(v)$. Therefore, we can construct the
following network with Lemma \ref{lemma:node_removal}:

\begin{definition}
Let $T_H$ be a transformation that converts a hypergraph \HypergraphDef~into 
a flow network \ExtendedT{H}{V'} with $V' \subseteq V$. \ShortExT{H}{V'} is defined as follows:
\begin{enumerate}
\item $V_H = V\setminus V' \bigcup\limits_{e \in E}\ \{e', e''\}$
\item $\forall v \in V'$ we add a directed edge $(e_1'', e_2'),\ \forall e_1, e_2 \in I(v)$ 
      with $e_1 \neq e_2$ with capacity $c_H(e_1'', e_2') = \infty$ (Lemma \ref{lemma:node_removal}).
\item $\forall e \in E$ we add a directed edge $(e',e'')$
      with capacity $c_H(e',e'') = \omega(e)$ (same as in \ShortT{L}).
\item $\forall v \in V\setminus V'$ we add for each incident hyperedge $e \in I(v)$ two directed
      edges $(v,e')$ and $(e'',v)$ with capacity 
      $c_H(v,e') = c_H(e'',v) := \infty$ (same as in \ShortT{L}).
\end{enumerate} 
\end{definition}

An example of the transformation is shown in \autoref{img:heuer_network}.
We have to proof that a minimum-capacity $(S,T)$-cutset
of \ShortExT{H}{V'} is equal with a minimum-weight $(S,T)$-cutset of $H$. However,
we need a preparing lemma in the correctness proof.

\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{../img/network_transformation/heuer_transformation.eps}
\caption{Transformation of a hypergraph into an equivalent flow network by removing
         all hypernodes. Note, capacity of the black edges in the flow network is $\infty$.}
\label{img:heuer_network}
\end{figure}

\begin{lemma}
\label{lemma:source_and_sink_removal}
Let $G = (V,E,c)$ be a flow network and $f$ a maximum $(S,T)$-flow of $G$.
Further, let $s \in S$ be a source node with $\forall v \in out(s): c(s,v) = \infty$
and $t \in T$ be a sink node with $\forall v \in in(t): c(v,t) = \infty$.
$f_s$ is a maximum $(S',T)$-flow of $G(s)$ and $f_t$ is a maximum $(S,T')$-flow
of $G(t)$ with $S' = S\setminus \{s\} \cup out(s)$ and $T' = T \setminus \{t\}
\cup in(t)$.
\[|f| < \infty \Rightarrow |f| = |f_s| = |f_t|\]
\end{lemma}

\begin{proof}
In Section \ref{sec:applications} we have described how to solve a \emph{multi-source 
multi sink} flow problem by adding a super source node $a$ and super sink node $b$ to the network
and connect $a$ with all sources $s' \in S$ and all sinks $t' \in T$ with $b$.
For $s' \in S: c(a,s') = \infty$ and for $t' \in T: c(t',b) = \infty$. With Lemma
\ref{lemma:node_removal} follows, that we can remove $s$ from $G$ and insert
a directed edge from $a$ to each $v \in out(s)$ (equal to $G(s)$) and $|f| = |f_s|$. The new flow problem
corresponds to the \emph{multi-source multi-sink} problem with $S'$ and $T$ as source
and sink set. The proof for $G(t)$ is equivalent.
\end{proof}

As a consequence of this lemma, we could replace (or even remove) 
e.g. a source hypernode $v \in S$ of \ShortT{L} and instead add all
incoming hyperedge nodes $e' \in I(v)$ as source nodes to the flow 
problem. Because for all incoming resp. outgoing edges of vertices $v$ of 
\ShortT{L} the capacity is $\infty$.

\begin{theorem}
\label{theorem:st_cutset_equal}
A minimum-weight $(S,T)$-cutset of a hypergraph \HypergraphDef~(with $S,T \subseteq V,
S \cap T = \emptyset$) is equivalent with a minimum-capacity $(S',T')$-cutset of the
flow network \ShortExT{H}{V'} ($V' \subseteq V$) with $S' = S \setminus V'\ \cup \bigcup\limits_{e \in I(V' \cap S)} \{e'\}$ and 
$T' = T \setminus V'\ \cup \bigcup\limits_{e \in I(V'\cap T)} \{e''\}$.
\label{theorem:heuer_network}
\end{theorem}

\begin{proof}

Applying Lemma \ref{lemma:node_removal} and \ref{lemma:source_and_sink_removal}
on all nodes $v \in V'$ of flow network \ShortT{L} yields to network
\ShortExT{H}{V'} with $S'$ and $T'$ as source and sink sets. A maximum
$(S,T)$-flow $f_L$ of \ShortT{L} is then equal with a maximum $(S',T')$-flow $f_H$
of \ShortExT{H}{V'}. Since $|f_L| < \infty$, only edges between hyperedge 
nodes are contained in a minimum $(S,T)$-cutset of \ShortT{L}. Since $|f_L| = |f_H|$, the same
holds for a minimum $(S',T')$-cutset $E_{min}$ of \ShortExT{H}{V'}. Therefore, $E_{min}$
is equal with a minimum-weight $(S,T)$-cutset of $H$.

%Consider the bipartite graph representation $G_* = (V_*,E_*,c_*)$ 
%of a hypergraph $H = (V,E,c,\omega)$ presented in Section \ref{sec:hypergraph} and \ref{sec:related_lawler}, 
%where for all $v \in V: c_*(v) = \infty$ and for all $e \in E: c_*(e) = 
%\omega(e)$. A minimum-weight $(S,T)$-vertex separator in $G_*$ is equal
%with a minimum-weight $(S,T)$-cutset in $H$. A minimum-weight $(S,T)$-vertex separator can be calculated
%by finding a minimum-capacity $(S,T)$-cutset in \ShortT{L}. Let $G_H$ be the graph obtained by removing
%all $v \in V'\setminus (S \cup T)$ of $G_*$ and adding a clique between all $e \in I(v)$. 
%A minimum-weight $(S,T)$-vertex separator in $G_H$ can be calculated by finding a 
%minimum-capacity $(S,T)$-cutset in our new network \ShortExT{H}{V'\setminus (S \cup T)}.
%We will show that each vertex separator in $G_*$ is also a vertex separator in $G_H$ and
%vice versa. With Lemma \ref{lemma:lemma1} we can show that each minimum $(S,T)$-cutset
%of \ShortExT{H}{V'\setminus (S \cup T)} is equal with a minimum $(S',T')$-cutset of
%\ShortExT{H}{V'} and conclude the proof. We will denote a vertex separator of a graph $G$ with 
%$\V{G}$ and define $V'' := V' \setminus (S \cup T)$. 
%We will show, that $\V{G_*} = \V{G_H}$ with the restriction $\V{G_*} \subseteq E$ and
%$\V{G_H} \subseteq E$.
%
%Assume that $\V{G_*} \subseteq E$ is not a vertex separator in $G_H$. After removing all $e \in \V{G_*}$ of
%$G_H$, there exists still a path $P_H = \{v_1, \ldots, v_k\}$ with $v_1 \in S$ and
%$v_k \in T$ of $G_H$. We can extend $P_H$ to a path $P_*$ in $G_*$.
%We define $P_* := P_H$ and replaces every occurence of a sequence $v_i = e_1 \in E$ and
%$v_{i+1} = e_2 \in E$ with a triple $(e_1,v,e_2)$ in $P_*$, where $v \in e_1 \cap e_2 \cap V''$
%(not empty per construction). $P_*$ does not contain a vertex of $\V{G_*}$, because
%we removed all hyperedge nodes $e \in \V{G_*}$ from $G_H$ before construction of $P_*$ 
%and a hypernode is not part of  the vertex separator $\V{G_*} \subseteq E$ per defintion. 
%$P_*$ connects $S$ and $T$ in $G_*$, which is a contradiction that $\V{G_*}$ 
%is a vertex separator in $G_*$.
%
%Assume that $\V{G_H} \subseteq E$ is not a vertex separator in $G_*$. After removing all $e \in \V{G_H}$ of
%$G_*$, there exists still a path $P_* = \{v_1, \ldots, v_k\}$ with $v_1 \in S$ and
%$v_k \in T$ of $G_*$. We can extend $P_*$ to a path $P_H$ in $G_H$.
%We define $P_H := P_*$ and remove all $v \in P_* \cap V''$ from $P_H$. $G_*$ is a bipartite
%graph per definition. Therefore, each path $P_*$ in $G_*$ is an alternating path of hypernodes and
%hyperedges. The predecessor and successor of a hypernode $v \in P_* \cap V''$ must be hyperedges
%$e_1$ and $e_2$. If $v \in V''$, then $v$ is not contained $G_H$. Instead, there is
%a clique between all $e \in I(v) \Rightarrow$ $(e_1,e_2)$ is contained in $G_H$.
%$P_H$ not contain any vertex of $\V{G_H}$, because we removed all hyperedge nodes $e \in \V{G_H}$ 
%from $G_*$. $P_H$ connects $S$ and $T$ in $G_H$, which is a contradiction that 
%$\V{G_H}$ is a vertex separator in $G_H$.
%
%A minimum-weight $(S,T)$-vertex separator in $G_*$ and $G_H$ contains only hyperedges, because
%the weight of all hypernodes in $G_*$ and $G_H$ is $\infty$. Therefore, each minimum-weight
%$(S,T)$-vertex separator in $G_*$ is also a minimum-weight $(S,T)$-vertex separator in $G_H$,
%because $c(\V{G_*}) = c(\V{G_H})$. With Lemma \ref{lemma:lemma1} follows that
%a minimum-weight $(S,T)$-vertex separator in $G_*$ resp. $G_H$  can also be 
%calculated by finding a minimum-capacity $(S',T')$-cutset in \ShortT{L} resp. \ShortExT{H}{V'}. 
%Therefore, there exists a equivalence between a minimum-weight $(S,T)$-cutset 
%$E_{min}$ of $H$ and the following statements: 
%
%$E_{min}$ is a minimum$\ldots$
%\begin{enumerate}
%\item $\ldots$-weight $(S,T)$-cutset in $H$
%\item $\ldots$-weight $(S,T)$-vertex separator in $G_*$
%\item $\ldots$-capacity $(S,T)$-cutset in \ShortT{L}
%\item $\ldots$-capacity $(S',T')$-cutset in \ShortT{L} (follows from (iii) with Lemma \ref{lemma:lemma1})
%\item $\ldots$-weight $(S,T)$-vertex separator in $G_H$
%\item $\ldots$-capacity $(S,T)$-cutset in \ShortExT{H}{V''}
%\item $\ldots$-capacity $(S',T')$-cutset in \ShortExT{H}{V'} (follows from (vi) with Lemma \ref{lemma:lemma1})
%\end{enumerate}

\end{proof}

Consequently, we can find a minimum-weight $(S,T)$-cutset of $H$ by calculating
a minimum-capacity $(S',T')$-cutset of \ShortExT{H}{V'}. An open problem is how to obtain the 
corresponding minimum-weight $(S,T)$-bipartition. In \ShortT{L} all hypernodes
reachable from source nodes in the residual graph are part of the first and 
all not reachable are part of the second block of the bipartition. Since we removed 
all hypernodes $v \in V'$ in our new network, we have to reconstruct the bipartition
with the following lemma.

\begin{lemma}
\label{lemma:bipartition_construction}
Let $f$ be a maximum $(S,T)$-flow  of \ShortT{L} and $A$ be the set of all nodes reachable
from a node $s \in S$ in the residual graph.
\[ \text{If } v \in A \Leftrightarrow \exists e \in I(v): e'' \in A \]
\end{lemma}

\begin{proof}
If $e'' \in A$, then $v \in A$, because $c_L(e'',v) = \infty$ and $r_f(e'',v) = \infty$.
Assume, if $v \in A$, then $\forall e \in I(v): e'' \notin A \Rightarrow f(e'',v) = 0$ (Note, $c(e'',v) = \infty$). 
Otherwise $r_f(v, e'')$ would be greater than zero and this would imply that $e'' \in A$,
because $v \in A$. Each path $P$ in the \emph{residual graph} of \ShortT{L} from $s \in S$ to $v$ must be of the 
form $P = (s,\ldots,e',v)$. For at least one $e \in I(v)$ there must be a positive flow $f(v,e') > 0$,
otherwise edge $(e',v)$ would be not contained in the \emph{residual graph} of \ShortT{L} (Note, $c_L(e',v) = 0$).
There is a positive flow leaving node $v$, but there is no flow entering node $v$, because
$\forall e \in I(v): f(e'',v) = 0$. This violates the conservation of flow
constraint for node $v$ and therefore $f$ is not a valid flow function. There must exist at least one $e \in I(v)$
with $f(e'',v) > 0 \Rightarrow r_f(v,e'') > 0 \Rightarrow e'' \in A$.
\end{proof}

Lemma \ref{lemma:bipartition_construction} gives us an alternative construction for the minimum-weight $(S,T)$-bipartition
of $H$ for both networks \ShortT{L} and \ShortExT{H}{V'}. Regardless of the flow network, we can 
calculate a maximum flow on it and define the set $E''$, which contains all \emph{outgoing hyperedge
nodes} $e''$ \emph{reachable} from a source node $s \in S$ in the \emph{residual graph} of the flow network. 
Further, $(A := \bigcup_{e \in E''} e,\ V\setminus A)$ is a 
minimum-weight $(S,T)$-bipartition of $H$.


\subsection{Low-Degree Hypernodes}
\label{sec:degree_network}

The resulting flow network \ShortExT{H}{V} proposed in Section \ref{sec:heuer_network} has significantly
fewer nodes than the network \ShortT{L} suggested by Lawler. On the other hand, the number of
edges could be much larger. \\
Let's consider a hypernode $v \in V$. We replace $v$ in \ShortT{L} with a clique between all
hyperedges of $I(v)$. The number of edges added to \ShortExT{H}{V} depends on the degree of
$v$. Every hypernode $v \in V$ induce $d(v)(d(v) - 1)$ edges in \ShortExT{H}{V}. In \ShortT{L} a hypernode adds $2d(v)$ edges to the network with the drawback
of an additional node. A simple observation is that for all hypernodes with $d(v) \le 3$ the inequality
$d(v)(d(v) - 1) \le 2d(v)$ holds. Removing such low degree hypernodes not only reduce
the number of nodes, but also the number of edges. \\
Let $V_{d}(n) = \{v \in V\ |\ d(v) \le n\}$ be the set of all hypernodes
with degree smaller or equal $n$. Then our suggested flow network is \ShortExT{H}{V_d(3)}.

\subsection{Removing Graph Hyperedges}
\label{sec:edge_size_network}

If we want to find a minimum-weight $(S,T)$-cutset in a graph $G = (V,E,\omega)$, we do not have to transform
$G$ into an equivalent flow network. We can directly operate on the graph with capacities
$c(e) = \omega(e)$ for all $e \in E$ \cite{ford1956maximal}. Hypergraphs are generalizations of a graph, where
an edge can consist of more than two nodes. However, a hyperedge $e$ of size $2$ can still be 
interpreted as a graph edge. Instead of modelling those edges as described by Lawler \cite{lawler1973}
(see hyperedge $e_2$ in \autoref{img:lawler_transformation}), we can remove all $e',e''$ for all $e \in E$
with $|e| = 2$ and add an undirected flow edge between $v_1,v_2 \in e$ (with $v_1 \neq v_2$) with
capacity $c(\{v_1,v_2\}) = \omega(e)$.

\begin{definition}
Let $T_G$ be a transformation that converts a hypergraph \HypergraphDef~into 
a flow network \T{G}. \ShortT{G} is defined as follows:
\begin{enumerate}
\item $V_G = V \cup \bigcup\limits_{\substack{e \in E \\ |e| \neq 2}}\ \{e', e''\}$
\item $\forall e \in E$ with $|e| = 2$ and $v_1,v_2 \in e$ ($v_1 \neq v_2$) we add 
      two directed edges $(v_1,v_2)$ and $(v_2,v_1)$ to $E_G$ with capacity $c(v_1,v_2) = \omega(e)$
      and $c(v_2,v_1) = \omega(e)$
\item Let $H' = (V,E',c,\omega)$ be the hypergraph with $E' = \{e\ |\ e \in E \land |e| \neq 2\}$,
      then we add all edges of $T_L(H')$ to $E_G$ with their corresponding capacities.
\end{enumerate} 
\end{definition}

An example of transformation \ShortT{G} is shown in \autoref{img:graph_transformation}. A hyperedge
$e$ of size $2$ consists exactly of $4$ nodes and $5$ edges in \ShortT{L} (see \autoref{img:lawler_transformation}).
The same hyperedge induces $2$ nodes and $2$ edges in \ShortT{G}. 
 
\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{../img/network_transformation/graph_transformation.eps}
\caption{Transformation of a hypergraph into an equivalent flow network by inserting 
         an undirected edge with capacity $\omega(e)$ for each hyperedge of size $2$. 
         Note, capacity of the black edges in the flow network is $\infty$.}
\label{img:graph_transformation}
\end{figure}

\begin{theorem}
\label{theorem:st_cutset_equal_graph}
A minimum-weight $(S,T)$-cutset of a hypergraph \HypergraphDef~(with $S,T \subseteq V,
S \cap T = \emptyset$) is equal with a minimum-capacity $(S,T)$-cutset of the
flow network \T{G}.
\label{theorem:heuer_network}
\end{theorem}

\begin{proof}

%Each path $P_L$ of \ShortT{L} from $s \in S$ to $t \in T$ can be mapped 
%bijective to a path $P_G$ of \ShortT{G} by replacing each occurence of $(\ldots,v_1,e',e'',v_2,\ldots)$ 
%with $|e| = 2$ and $v_1,v_2 \in e$ in $P_L$ with $(\ldots,v_1,v_2,\ldots)$ in $P_G$.
%Therefore, there exists a one-to-one correspondence between all paths from $S$
%to $T$ of \ShortT{L} and \ShortT{G}. Since $c_L(e',e'') = c_G(v_1,v_2)$, each augmenting path of \ShortT{L}
%can be mapped to a unique augmenting path of \ShortT{G} and vice versa. Executing an
%augmenting path maximum flow algorithm on \ShortT{L} and simultanousely mapping each augmenting path
%to \ShortT{G} yields to a maximum $(S,T)$-flow $f$ on both networks. 

We define the bijective function $\Phi: E_L \rightarrow E_G$ as follows
\[ \Phi(e',e'') = 
   \begin{cases}
      (e',e''), \text{if } |e| \neq 2, \\
      \{v_1,v_2\}, \text{otherwise (with $v_1,v_2 \in e$ and $v_1 \neq v_2$)}
   \end{cases} \]

We will show that each $(S,T)$-cutset $A_L$ of \ShortT{L} is a $(S,T)$-cutset $\Phi(A_L)$ of
\ShortT{G} and vice versa. Per defintion $c_L(A_L) = c_G(\Phi(A_L))$ and for each $(S,T)$-cutset
$A_G$ of \ShortT{G} $c_G(A_G) = c_L(\Phi^{-1}(A_G))$. Therefore, each minimum-capacity $(S,T)$-cutset
of \ShortT{L} must be a minimum-capacity $(S,T)$-cutset of \ShortT{G} and vice versa. In the following 
let $E^* = \bigcup_{e \in E} \{(e',e'')\}$. \\
Let $A_L \subseteq E^*$ be a $(S,T)$-cutset of \ShortT{L}. Assume $\Phi(A_L)$ is not a $(S,T)$-cutset
of \ShortT{G}. Then there exists a path
$P_G = \{v_1,\ldots,v_k\}$ connecting $S$ and $T$ in \ShortT{G} not containing any edge $e \in \Phi(A_L)$.
Let $P_L$ be the path in \ShortT{L} obtained by adding edge $\Phi^{-1}(v_i,v_{i+1}) = (e',e'')$ between all
$v_i \in V$ and $v_{i+1} \in V$ in $P_G$. $\Phi^{-1}(v_i,v_{i+1}) \notin A_L$, because
$P_G$ does not contain any edge of $\Phi(A_L)$. $P_L$ connects $S$ and
$T$ in \ShortT{L}, which is a contradiction to the assumption that $A_L$ is a $(S,T)$-cutset. \\
Let $A_G \subseteq \Phi(E^*)$ be a $(S,T)$-cutset in \ShortT{G}. Let's assume $\Phi^{-1}(A_G)$ is not
a $(S,T)$-cutset of \ShortT{L}. Then there exists a path $P_L = \{v_1,\ldots,v_k\}$ 
connecting $S$ and $T$ in \ShortT{L} not containing any
edge $e \in \Phi^{-1}(A_G)$. Let $P_G$ be the path in \ShortT{G} obtained by removing each edge
$(v_i,v_{i+1})$ with $v_i = e'$ and $v_{i+1} = e''$ and $|e| = 2$ from $P_L$. Based on the construction
of \ShortT{L} the predecessor of $v_i$ and successor of $v_{i+1}$ must be hypernodes $v_1,v_2 \in e$.
Therefore, $P_G$ is a valid path in \ShortT{G} connecting $S$ and $T$ and not contain any edge of 
$A_G$. This is a contradiction to the assumption that $A_G$ is a $(S,T)$-cutset.
\end{proof} 

A minimum-weight $(S,T)$-cutset of $H$ could also be calculated with \ShortT{G}. 
Each edge $(v_1,v_2)$ with $v_1,v_2 \in V$ of the minimum-capacity
$(S,T)$-cutset of \ShortT{G} can be mapped to their corresponding hyperedge
with $\Phi^{-1}(v_1,v_2)$. Since there exists a one-one correspondence between the hypernodes
of \ShortT{L} and \ShortT{G} the corresponding bipartition are all hypernodes \emph{reachable}
from all nodes in $S$ and all not \emph{reachable} from $S$ in the \emph{residual graph}
of \ShortT{G}. 

\subsection{Combining Techniques}
\label{sec:hybrid_network}

In many real-world instances, the average hyperedge size and hypernode degree are inversely
proportional to each other. E.g., if the number of hyperedges is significantly larger than the
number of hypernodes the average hypernode degree is usually much larger than $3$. Whereas
the average hyperedge size is often equal to $2$. If the number of hyperedges is nearly equal
to the number of hypernodes, the average hypernode degree is usually smaller or equal than $3$. Whereas
the average hyperedge size is often much larger than $2$. Of course, we can construct instances
where this inversely proportional relationship cannot be observed, but in many real-world instances,
we often find the described behavior. \\
Currently, we have two different modeling approaches which either perform better on low degree
hypernode instances or small hyperedge size instances. Taking our observation from real-world instances 
into account means that either \ShortT{G} or \ShortExT{H}{V_d(3)} performs significantly better on
a specific instance. It would be preferable to combine the two approaches into one network 
which performs on most instances best. \\

\begin{definition}
Let $T_{\text{Hybrid}}$ be a transformation that converts a hypergraph \HypergraphDef~into 
a flow network \Hybrid, where $V' = \{v \in V_d(3)\ |\ \forall e \in I(v): |e| \neq 2\}$. 
\ShortHybrid~is defined as follows:
\begin{enumerate}
\item $V_{\text{Hybrid}} = V\setminus V' \bigcup\limits_{\substack{e \in E \\ |e| \neq 2}}\ \{e', e''\}$
\item $\forall v \in V'$ we add a directed edge $(e_1'', e_2'),\ \forall e_1, e_2 \in I(v)$ 
      ($e_1 \neq e_2$) with capacity $c_{\text{Hybrid}}(e_1'', e_2') = \infty$ (clique expansion).
\item $\forall e \in E$ with $|e| = 2$ and $v_1,v_2 \in e$ ($v_1 \neq v_2$) we add 
      two directed edges $(v_1,v_2)$ and $(v_2,v_1)$ with capacity $c_{\text{Hybrid}}(v_1,v_2) = \omega(e)$
      and $c_{\text{Hybrid}}(v_2,v_1) = \omega(e)$
\item $\forall e \in E$ with $|e| \neq 2$ we add a directed edge $(e',e'')$
      with capacity $c_{\text{Hybrid}}(e',e'') = \omega(e)$ (same as in \ShortT{L}).
\item $\forall v \in V\setminus V'$ we add for each incident hyperedge $e \in I(v)$ with $|e| \neq 2$ 
      two directed edges $(v,e')$ and $(e'',v)$ with capacity 
      $c_{\text{Hybrid}}(v,e') = c_{\text{Hybrid}}(e'',v) := \infty$ (same as in \ShortT{L}).
\end{enumerate} 
\end{definition}

\autoref{img:transformation_chain} summarizes all explained transformations of this section.
The proof of \autoref{theorem:st_cutset_equal_graph} can be used one-to-one to show that a minimum-capacity
$(S',T')$-cutset of \ShortExT{H}{V'} is equal with a minimum-capacity $(S',T')$-cutset of \ShortHybrid~
(for definition of $S'$ and $T'$ see \autoref{theorem:st_cutset_equal}). It follows with Lemma \ref{lemma:source_and_sink_removal}
that this is equal with a minimum-weight $(S,T)$-cutset of $H$. \\
Per definition of \ShortHybrid~we prefer a hyperedge removal over a hypernode removal. E.g., if
a hypernode has a degree smaller or equal than $3$, we only remove it, if there is no hyperedge
$e \in I(v)$ with $|e| = 2$. The reason is that a hyperedge removal always decreases the number of nodes
and edges more than a hypernode removal. \\
\begin{figure}[ht!]
\centering
\includegraphics[width=0.95\textwidth]{../img/network_transformation/hybrid_transformation.eps}
\caption{Illustration of all presented transformations of a hypergraph into a flow network.}
\label{img:transformation_chain}
\end{figure}
The minimum-weight $(S,T)$-cutset of $H$ can be calculated with the same technique described in Section
\ref{sec:edge_size_network}. Let $(A,V\setminus A)$ be the corresponding bipartition.
$A$ is the union of all reachable hypernodes from $S'$ and the union of
all reachable \emph{outgoing hyperedge nodes} $e''$ from $S'$ (see Section \ref{sec:heuer_network} 
and Lemma \ref{lemma:bipartition_construction}). 
